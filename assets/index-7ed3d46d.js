function Op(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Lp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Np(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Qc={exports:{}},Ps={},Yc={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ei=Symbol.for("react.element"),Ap=Symbol.for("react.portal"),Ip=Symbol.for("react.fragment"),$p=Symbol.for("react.strict_mode"),Up=Symbol.for("react.profiler"),Dp=Symbol.for("react.provider"),Mp=Symbol.for("react.context"),Bp=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),zp=Symbol.for("react.memo"),Vp=Symbol.for("react.lazy"),ru=Symbol.iterator;function Hp(t){return t===null||typeof t!="object"?null:(t=ru&&t[ru]||t["@@iterator"],typeof t=="function"?t:null)}var Xc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ed=Object.assign,td={};function Qr(t,e,r){this.props=t,this.context=e,this.refs=td,this.updater=r||Xc}Qr.prototype.isReactComponent={};Qr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rd(){}rd.prototype=Qr.prototype;function Wa(t,e,r){this.props=t,this.context=e,this.refs=td,this.updater=r||Xc}var Ka=Wa.prototype=new rd;Ka.constructor=Wa;ed(Ka,Qr.prototype);Ka.isPureReactComponent=!0;var nu=Array.isArray,nd=Object.prototype.hasOwnProperty,qa={current:null},id={key:!0,ref:!0,__self:!0,__source:!0};function sd(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)nd.call(e,n)&&!id.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:ei,type:t,key:s,ref:o,props:i,_owner:qa.current}}function Wp(t,e){return{$$typeof:ei,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ga(t){return typeof t=="object"&&t!==null&&t.$$typeof===ei}function Kp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var iu=/\/+/g;function Ys(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Kp(""+t.key):e.toString(36)}function Ui(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ei:case Ap:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Ys(o,0):n,nu(i)?(r="",t!=null&&(r=t.replace(iu,"$&/")+"/"),Ui(i,e,r,"",function(u){return u})):i!=null&&(Ga(i)&&(i=Wp(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(iu,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",nu(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+Ys(s,a);o+=Ui(s,e,r,l,i)}else if(l=Hp(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+Ys(s,a++),o+=Ui(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ci(t,e,r){if(t==null)return t;var n=[],i=0;return Ui(t,n,"","",function(s){return e.call(r,s,i++)}),n}function qp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _e={current:null},Di={transition:null},Gp={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:Di,ReactCurrentOwner:qa};function od(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:ci,forEach:function(t,e,r){ci(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ci(t,function(){e++}),e},toArray:function(t){return ci(t,function(e){return e})||[]},only:function(t){if(!Ga(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=Qr;U.Fragment=Ip;U.Profiler=Up;U.PureComponent=Wa;U.StrictMode=$p;U.Suspense=Fp;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gp;U.act=od;U.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ed({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=qa.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)nd.call(e,l)&&!id.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ei,type:t.type,key:i,ref:s,props:n,_owner:o}};U.createContext=function(t){return t={$$typeof:Mp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Dp,_context:t},t.Consumer=t};U.createElement=sd;U.createFactory=function(t){var e=sd.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Bp,render:t}};U.isValidElement=Ga;U.lazy=function(t){return{$$typeof:Vp,_payload:{_status:-1,_result:t},_init:qp}};U.memo=function(t,e){return{$$typeof:zp,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=Di.transition;Di.transition={};try{t()}finally{Di.transition=e}};U.unstable_act=od;U.useCallback=function(t,e){return _e.current.useCallback(t,e)};U.useContext=function(t){return _e.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return _e.current.useDeferredValue(t)};U.useEffect=function(t,e){return _e.current.useEffect(t,e)};U.useId=function(){return _e.current.useId()};U.useImperativeHandle=function(t,e,r){return _e.current.useImperativeHandle(t,e,r)};U.useInsertionEffect=function(t,e){return _e.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return _e.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return _e.current.useMemo(t,e)};U.useReducer=function(t,e,r){return _e.current.useReducer(t,e,r)};U.useRef=function(t){return _e.current.useRef(t)};U.useState=function(t){return _e.current.useState(t)};U.useSyncExternalStore=function(t,e,r){return _e.current.useSyncExternalStore(t,e,r)};U.useTransition=function(){return _e.current.useTransition()};U.version="18.3.1";Yc.exports=U;var k=Yc.exports;const Jp=Lp(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp=k,Qp=Symbol.for("react.element"),Yp=Symbol.for("react.fragment"),Xp=Object.prototype.hasOwnProperty,em=Zp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tm={key:!0,ref:!0,__self:!0,__source:!0};function ad(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Xp.call(e,n)&&!tm.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Qp,type:t,key:s,ref:o,props:i,_owner:em.current}}Ps.Fragment=Yp;Ps.jsx=ad;Ps.jsxs=ad;Qc.exports=Ps;var v=Qc.exports,Uo={},ld={exports:{}},Ie={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,I){var $=T.length;T.push(I);e:for(;0<$;){var Y=$-1>>>1,se=T[Y];if(0<i(se,I))T[Y]=I,T[$]=se,$=Y;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var I=T[0],$=T.pop();if($!==I){T[0]=$;e:for(var Y=0,se=T.length,li=se>>>1;Y<li;){var qt=2*(Y+1)-1,Qs=T[qt],Gt=qt+1,ui=T[Gt];if(0>i(Qs,$))Gt<se&&0>i(ui,Qs)?(T[Y]=ui,T[Gt]=$,Y=Gt):(T[Y]=Qs,T[qt]=$,Y=qt);else if(Gt<se&&0>i(ui,$))T[Y]=ui,T[Gt]=$,Y=Gt;else break e}}return I}function i(T,I){var $=T.sortIndex-I.sortIndex;return $!==0?$:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,m=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(T){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=T)n(u),I.sortIndex=I.expirationTime,e(l,I);else break;I=r(u)}}function S(T){if(w=!1,p(T),!y)if(r(l)!==null)y=!0,Js(E);else{var I=r(u);I!==null&&Zs(S,I.startTime-T)}}function E(T,I){y=!1,w&&(w=!1,g(j),j=-1),m=!0;var $=d;try{for(p(I),h=r(l);h!==null&&(!(h.expirationTime>I)||T&&!le());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,d=h.priorityLevel;var se=Y(h.expirationTime<=I);I=t.unstable_now(),typeof se=="function"?h.callback=se:h===r(l)&&n(l),p(I)}else n(l);h=r(l)}if(h!==null)var li=!0;else{var qt=r(u);qt!==null&&Zs(S,qt.startTime-I),li=!1}return li}finally{h=null,d=$,m=!1}}var x=!1,C=null,j=-1,A=5,N=-1;function le(){return!(t.unstable_now()-N<A)}function St(){if(C!==null){var T=t.unstable_now();N=T;var I=!0;try{I=C(!0,T)}finally{I?Kt():(x=!1,C=null)}}else x=!1}var Kt;if(typeof f=="function")Kt=function(){f(St)};else if(typeof MessageChannel<"u"){var tu=new MessageChannel,Rp=tu.port2;tu.port1.onmessage=St,Kt=function(){Rp.postMessage(null)}}else Kt=function(){_(St,0)};function Js(T){C=T,x||(x=!0,Kt())}function Zs(T,I){j=_(function(){T(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,Js(E))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(T){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var $=d;d=I;try{return T()}finally{d=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=d;d=T;try{return I()}finally{d=$}},t.unstable_scheduleCallback=function(T,I,$){var Y=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Y+$:Y):$=Y,T){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=$+se,T={id:c++,callback:I,priorityLevel:T,startTime:$,expirationTime:se,sortIndex:-1},$>Y?(T.sortIndex=$,e(u,T),r(l)===null&&T===r(u)&&(w?(g(j),j=-1):w=!0,Zs(S,$-Y))):(T.sortIndex=se,e(l,T),y||m||(y=!0,Js(E))),T},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(T){var I=d;return function(){var $=d;d=I;try{return T.apply(this,arguments)}finally{d=$}}}})(cd);ud.exports=cd;var rm=ud.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm=k,Ae=rm;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dd=new Set,Nn={};function pr(t,e){Vr(t,e),Vr(t+"Capture",e)}function Vr(t,e){for(Nn[t]=e,t=0;t<e.length;t++)dd.add(e[t])}var pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Do=Object.prototype.hasOwnProperty,im=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,su={},ou={};function sm(t){return Do.call(ou,t)?!0:Do.call(su,t)?!1:im.test(t)?ou[t]=!0:(su[t]=!0,!1)}function om(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function am(t,e,r,n){if(e===null||typeof e>"u"||om(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Se(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){he[t]=new Se(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];he[e]=new Se(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){he[t]=new Se(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){he[t]=new Se(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){he[t]=new Se(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){he[t]=new Se(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){he[t]=new Se(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){he[t]=new Se(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){he[t]=new Se(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ja=/[\-:]([a-z])/g;function Za(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ja,Za);he[e]=new Se(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ja,Za);he[e]=new Se(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ja,Za);he[e]=new Se(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){he[t]=new Se(t,1,!1,t.toLowerCase(),null,!1,!1)});he.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){he[t]=new Se(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qa(t,e,r,n){var i=he.hasOwnProperty(e)?he[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(am(e,r,i,n)&&(r=null),n||i===null?sm(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var wt=nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,di=Symbol.for("react.element"),xr=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),Ya=Symbol.for("react.strict_mode"),Mo=Symbol.for("react.profiler"),hd=Symbol.for("react.provider"),fd=Symbol.for("react.context"),Xa=Symbol.for("react.forward_ref"),Bo=Symbol.for("react.suspense"),Fo=Symbol.for("react.suspense_list"),el=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),pd=Symbol.for("react.offscreen"),au=Symbol.iterator;function ln(t){return t===null||typeof t!="object"?null:(t=au&&t[au]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,Xs;function vn(t){if(Xs===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Xs=e&&e[1]||""}return`
`+Xs+t}var eo=!1;function to(t,e){if(!t||eo)return"";eo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{eo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?vn(t):""}function lm(t){switch(t.tag){case 5:return vn(t.type);case 16:return vn("Lazy");case 13:return vn("Suspense");case 19:return vn("SuspenseList");case 0:case 2:case 15:return t=to(t.type,!1),t;case 11:return t=to(t.type.render,!1),t;case 1:return t=to(t.type,!0),t;default:return""}}function zo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cr:return"Fragment";case xr:return"Portal";case Mo:return"Profiler";case Ya:return"StrictMode";case Bo:return"Suspense";case Fo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fd:return(t.displayName||"Context")+".Consumer";case hd:return(t._context.displayName||"Context")+".Provider";case Xa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case el:return e=t.displayName||null,e!==null?e:zo(t.type)||"Memo";case xt:e=t._payload,t=t._init;try{return zo(t(e))}catch{}}return null}function um(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zo(e);case 8:return e===Ya?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function md(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cm(t){var e=md(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hi(t){t._valueTracker||(t._valueTracker=cm(t))}function gd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=md(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Qi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vo(t,e){var r=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function lu(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Mt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vd(t,e){e=e.checked,e!=null&&Qa(t,"checked",e,!1)}function Ho(t,e){vd(t,e);var r=Mt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wo(t,e.type,r):e.hasOwnProperty("defaultValue")&&Wo(t,e.type,Mt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Wo(t,e,r){(e!=="number"||Qi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var yn=Array.isArray;function $r(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Mt(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ko(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(b(92));if(yn(r)){if(1<r.length)throw Error(b(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Mt(r)}}function yd(t,e){var r=Mt(e.value),n=Mt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function du(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fi,_d=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fi=fi||document.createElement("div"),fi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function An(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dm=["Webkit","ms","Moz","O"];Object.keys(kn).forEach(function(t){dm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kn[e]=kn[t]})});function Sd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||kn.hasOwnProperty(t)&&kn[t]?(""+e).trim():e+"px"}function kd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Sd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var hm=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Go(t,e){if(e){if(hm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function Jo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=null;function tl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qo=null,Ur=null,Dr=null;function hu(t){if(t=ni(t)){if(typeof Qo!="function")throw Error(b(280));var e=t.stateNode;e&&(e=Ns(e),Qo(t.stateNode,t.type,e))}}function Ed(t){Ur?Dr?Dr.push(t):Dr=[t]:Ur=t}function xd(){if(Ur){var t=Ur,e=Dr;if(Dr=Ur=null,hu(t),e)for(t=0;t<e.length;t++)hu(e[t])}}function Cd(t,e){return t(e)}function bd(){}var ro=!1;function jd(t,e,r){if(ro)return t(e,r);ro=!0;try{return Cd(t,e,r)}finally{ro=!1,(Ur!==null||Dr!==null)&&(bd(),xd())}}function In(t,e){var r=t.stateNode;if(r===null)return null;var n=Ns(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(b(231,e,typeof r));return r}var Yo=!1;if(pt)try{var un={};Object.defineProperty(un,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{Yo=!1}function fm(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var En=!1,Yi=null,Xi=!1,Xo=null,pm={onError:function(t){En=!0,Yi=t}};function mm(t,e,r,n,i,s,o,a,l){En=!1,Yi=null,fm.apply(pm,arguments)}function gm(t,e,r,n,i,s,o,a,l){if(mm.apply(this,arguments),En){if(En){var u=Yi;En=!1,Yi=null}else throw Error(b(198));Xi||(Xi=!0,Xo=u)}}function mr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Pd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fu(t){if(mr(t)!==t)throw Error(b(188))}function vm(t){var e=t.alternate;if(!e){if(e=mr(t),e===null)throw Error(b(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return fu(i),t;if(s===n)return fu(i),e;s=s.sibling}throw Error(b(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(b(189))}}if(r.alternate!==n)throw Error(b(190))}if(r.tag!==3)throw Error(b(188));return r.stateNode.current===r?t:e}function Td(t){return t=vm(t),t!==null?Rd(t):null}function Rd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Rd(t);if(e!==null)return e;t=t.sibling}return null}var Od=Ae.unstable_scheduleCallback,pu=Ae.unstable_cancelCallback,ym=Ae.unstable_shouldYield,wm=Ae.unstable_requestPaint,X=Ae.unstable_now,_m=Ae.unstable_getCurrentPriorityLevel,rl=Ae.unstable_ImmediatePriority,Ld=Ae.unstable_UserBlockingPriority,es=Ae.unstable_NormalPriority,Sm=Ae.unstable_LowPriority,Nd=Ae.unstable_IdlePriority,Ts=null,st=null;function km(t){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Ts,t,void 0,(t.current.flags&128)===128)}catch{}}var Qe=Math.clz32?Math.clz32:Cm,Em=Math.log,xm=Math.LN2;function Cm(t){return t>>>=0,t===0?32:31-(Em(t)/xm|0)|0}var pi=64,mi=4194304;function wn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ts(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=wn(a):(s&=o,s!==0&&(n=wn(s)))}else o=r&~i,o!==0?n=wn(o):s!==0&&(n=wn(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Qe(e),i=1<<r,n|=t[r],e&=~i;return n}function bm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jm(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Qe(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=bm(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function ea(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ad(){var t=pi;return pi<<=1,!(pi&4194240)&&(pi=64),t}function no(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ti(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qe(e),t[e]=r}function Pm(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Qe(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function nl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Qe(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var M=0;function Id(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $d,il,Ud,Dd,Md,ta=!1,gi=[],Ot=null,Lt=null,Nt=null,$n=new Map,Un=new Map,bt=[],Tm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(t,e){switch(t){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":$n.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(e.pointerId)}}function cn(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ni(e),e!==null&&il(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Rm(t,e,r,n,i){switch(e){case"focusin":return Ot=cn(Ot,t,e,r,n,i),!0;case"dragenter":return Lt=cn(Lt,t,e,r,n,i),!0;case"mouseover":return Nt=cn(Nt,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return $n.set(s,cn($n.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Un.set(s,cn(Un.get(s)||null,t,e,r,n,i)),!0}return!1}function Bd(t){var e=nr(t.target);if(e!==null){var r=mr(e);if(r!==null){if(e=r.tag,e===13){if(e=Pd(r),e!==null){t.blockedOn=e,Md(t.priority,function(){Ud(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ra(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Zo=n,r.target.dispatchEvent(n),Zo=null}else return e=ni(r),e!==null&&il(e),t.blockedOn=r,!1;e.shift()}return!0}function gu(t,e,r){Mi(t)&&r.delete(e)}function Om(){ta=!1,Ot!==null&&Mi(Ot)&&(Ot=null),Lt!==null&&Mi(Lt)&&(Lt=null),Nt!==null&&Mi(Nt)&&(Nt=null),$n.forEach(gu),Un.forEach(gu)}function dn(t,e){t.blockedOn===e&&(t.blockedOn=null,ta||(ta=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,Om)))}function Dn(t){function e(i){return dn(i,t)}if(0<gi.length){dn(gi[0],t);for(var r=1;r<gi.length;r++){var n=gi[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ot!==null&&dn(Ot,t),Lt!==null&&dn(Lt,t),Nt!==null&&dn(Nt,t),$n.forEach(e),Un.forEach(e),r=0;r<bt.length;r++)n=bt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<bt.length&&(r=bt[0],r.blockedOn===null);)Bd(r),r.blockedOn===null&&bt.shift()}var Mr=wt.ReactCurrentBatchConfig,rs=!0;function Lm(t,e,r,n){var i=M,s=Mr.transition;Mr.transition=null;try{M=1,sl(t,e,r,n)}finally{M=i,Mr.transition=s}}function Nm(t,e,r,n){var i=M,s=Mr.transition;Mr.transition=null;try{M=4,sl(t,e,r,n)}finally{M=i,Mr.transition=s}}function sl(t,e,r,n){if(rs){var i=ra(t,e,r,n);if(i===null)po(t,e,n,ns,r),mu(t,n);else if(Rm(i,t,e,r,n))n.stopPropagation();else if(mu(t,n),e&4&&-1<Tm.indexOf(t)){for(;i!==null;){var s=ni(i);if(s!==null&&$d(s),s=ra(t,e,r,n),s===null&&po(t,e,n,ns,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else po(t,e,n,null,r)}}var ns=null;function ra(t,e,r,n){if(ns=null,t=tl(n),t=nr(t),t!==null)if(e=mr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Pd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ns=t,null}function Fd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_m()){case rl:return 1;case Ld:return 4;case es:case Sm:return 16;case Nd:return 536870912;default:return 16}default:return 16}}var Tt=null,ol=null,Bi=null;function zd(){if(Bi)return Bi;var t,e=ol,r=e.length,n,i="value"in Tt?Tt.value:Tt.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Bi=i.slice(t,1<n?1-n:void 0)}function Fi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vi(){return!0}function vu(){return!1}function $e(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vi:vu,this.isPropagationStopped=vu,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),e}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=$e(Yr),ri=Z({},Yr,{view:0,detail:0}),Am=$e(ri),io,so,hn,Rs=Z({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ll,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hn&&(hn&&t.type==="mousemove"?(io=t.screenX-hn.screenX,so=t.screenY-hn.screenY):so=io=0,hn=t),io)},movementY:function(t){return"movementY"in t?t.movementY:so}}),yu=$e(Rs),Im=Z({},Rs,{dataTransfer:0}),$m=$e(Im),Um=Z({},ri,{relatedTarget:0}),oo=$e(Um),Dm=Z({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Mm=$e(Dm),Bm=Z({},Yr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fm=$e(Bm),zm=Z({},Yr,{data:0}),wu=$e(zm),Vm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Km(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Wm[t])?!!e[t]:!1}function ll(){return Km}var qm=Z({},ri,{key:function(t){if(t.key){var e=Vm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ll,charCode:function(t){return t.type==="keypress"?Fi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gm=$e(qm),Jm=Z({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_u=$e(Jm),Zm=Z({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ll}),Qm=$e(Zm),Ym=Z({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xm=$e(Ym),eg=Z({},Rs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tg=$e(eg),rg=[9,13,27,32],ul=pt&&"CompositionEvent"in window,xn=null;pt&&"documentMode"in document&&(xn=document.documentMode);var ng=pt&&"TextEvent"in window&&!xn,Vd=pt&&(!ul||xn&&8<xn&&11>=xn),Su=String.fromCharCode(32),ku=!1;function Hd(t,e){switch(t){case"keyup":return rg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var br=!1;function ig(t,e){switch(t){case"compositionend":return Wd(e);case"keypress":return e.which!==32?null:(ku=!0,Su);case"textInput":return t=e.data,t===Su&&ku?null:t;default:return null}}function sg(t,e){if(br)return t==="compositionend"||!ul&&Hd(t,e)?(t=zd(),Bi=ol=Tt=null,br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vd&&e.locale!=="ko"?null:e.data;default:return null}}var og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!og[t.type]:e==="textarea"}function Kd(t,e,r,n){Ed(n),e=is(e,"onChange"),0<e.length&&(r=new al("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Cn=null,Mn=null;function ag(t){nh(t,0)}function Os(t){var e=Tr(t);if(gd(e))return t}function lg(t,e){if(t==="change")return e}var qd=!1;if(pt){var ao;if(pt){var lo="oninput"in document;if(!lo){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),lo=typeof xu.oninput=="function"}ao=lo}else ao=!1;qd=ao&&(!document.documentMode||9<document.documentMode)}function Cu(){Cn&&(Cn.detachEvent("onpropertychange",Gd),Mn=Cn=null)}function Gd(t){if(t.propertyName==="value"&&Os(Mn)){var e=[];Kd(e,Mn,t,tl(t)),jd(ag,e)}}function ug(t,e,r){t==="focusin"?(Cu(),Cn=e,Mn=r,Cn.attachEvent("onpropertychange",Gd)):t==="focusout"&&Cu()}function cg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Os(Mn)}function dg(t,e){if(t==="click")return Os(e)}function hg(t,e){if(t==="input"||t==="change")return Os(e)}function fg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xe=typeof Object.is=="function"?Object.is:fg;function Bn(t,e){if(Xe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Do.call(e,i)||!Xe(t[i],e[i]))return!1}return!0}function bu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ju(t,e){var r=bu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bu(r)}}function Jd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zd(){for(var t=window,e=Qi();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Qi(t.document)}return e}function cl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pg(t){var e=Zd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Jd(r.ownerDocument.documentElement,r)){if(n!==null&&cl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=ju(r,s);var o=ju(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mg=pt&&"documentMode"in document&&11>=document.documentMode,jr=null,na=null,bn=null,ia=!1;function Pu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ia||jr==null||jr!==Qi(n)||(n=jr,"selectionStart"in n&&cl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bn&&Bn(bn,n)||(bn=n,n=is(na,"onSelect"),0<n.length&&(e=new al("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=jr)))}function yi(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Pr={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionend:yi("Transition","TransitionEnd")},uo={},Qd={};pt&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Ls(t){if(uo[t])return uo[t];if(!Pr[t])return t;var e=Pr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Qd)return uo[t]=e[r];return t}var Yd=Ls("animationend"),Xd=Ls("animationiteration"),eh=Ls("animationstart"),th=Ls("transitionend"),rh=new Map,Tu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ft(t,e){rh.set(t,e),pr(e,[t])}for(var co=0;co<Tu.length;co++){var ho=Tu[co],gg=ho.toLowerCase(),vg=ho[0].toUpperCase()+ho.slice(1);Ft(gg,"on"+vg)}Ft(Yd,"onAnimationEnd");Ft(Xd,"onAnimationIteration");Ft(eh,"onAnimationStart");Ft("dblclick","onDoubleClick");Ft("focusin","onFocus");Ft("focusout","onBlur");Ft(th,"onTransitionEnd");Vr("onMouseEnter",["mouseout","mouseover"]);Vr("onMouseLeave",["mouseout","mouseover"]);Vr("onPointerEnter",["pointerout","pointerover"]);Vr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _n="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yg=new Set("cancel close invalid load scroll toggle".split(" ").concat(_n));function Ru(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,gm(n,e,void 0,t),t.currentTarget=null}function nh(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ru(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ru(i,a,u),s=l}}}if(Xi)throw t=Xo,Xi=!1,Xo=null,t}function V(t,e){var r=e[ua];r===void 0&&(r=e[ua]=new Set);var n=t+"__bubble";r.has(n)||(ih(e,t,2,!1),r.add(n))}function fo(t,e,r){var n=0;e&&(n|=4),ih(r,t,n,e)}var wi="_reactListening"+Math.random().toString(36).slice(2);function Fn(t){if(!t[wi]){t[wi]=!0,dd.forEach(function(r){r!=="selectionchange"&&(yg.has(r)||fo(r,!1,t),fo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wi]||(e[wi]=!0,fo("selectionchange",!1,e))}}function ih(t,e,r,n){switch(Fd(e)){case 1:var i=Lm;break;case 4:i=Nm;break;default:i=sl}r=i.bind(null,e,r,t),i=void 0,!Yo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function po(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=nr(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}jd(function(){var u=s,c=tl(r),h=[];e:{var d=rh.get(t);if(d!==void 0){var m=al,y=t;switch(t){case"keypress":if(Fi(r)===0)break e;case"keydown":case"keyup":m=Gm;break;case"focusin":y="focus",m=oo;break;case"focusout":y="blur",m=oo;break;case"beforeblur":case"afterblur":m=oo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$m;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Qm;break;case Yd:case Xd:case eh:m=Mm;break;case th:m=Xm;break;case"scroll":m=Am;break;case"wheel":m=tg;break;case"copy":case"cut":case"paste":m=Fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=_u}var w=(e&4)!==0,_=!w&&t==="scroll",g=w?d!==null?d+"Capture":null:d;w=[];for(var f=u,p;f!==null;){p=f;var S=p.stateNode;if(p.tag===5&&S!==null&&(p=S,g!==null&&(S=In(f,g),S!=null&&w.push(zn(f,S,p)))),_)break;f=f.return}0<w.length&&(d=new m(d,y,null,r,c),h.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&r!==Zo&&(y=r.relatedTarget||r.fromElement)&&(nr(y)||y[mt]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?nr(y):null,y!==null&&(_=mr(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=yu,S="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(w=_u,S="onPointerLeave",g="onPointerEnter",f="pointer"),_=m==null?d:Tr(m),p=y==null?d:Tr(y),d=new w(S,f+"leave",m,r,c),d.target=_,d.relatedTarget=p,S=null,nr(c)===u&&(w=new w(g,f+"enter",y,r,c),w.target=p,w.relatedTarget=_,S=w),_=S,m&&y)t:{for(w=m,g=y,f=0,p=w;p;p=gr(p))f++;for(p=0,S=g;S;S=gr(S))p++;for(;0<f-p;)w=gr(w),f--;for(;0<p-f;)g=gr(g),p--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=gr(w),g=gr(g)}w=null}else w=null;m!==null&&Ou(h,d,m,w,!1),y!==null&&_!==null&&Ou(h,_,y,w,!0)}}e:{if(d=u?Tr(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var E=lg;else if(Eu(d))if(qd)E=hg;else{E=cg;var x=ug}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=dg);if(E&&(E=E(t,u))){Kd(h,E,r,c);break e}x&&x(t,d,u),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&Wo(d,"number",d.value)}switch(x=u?Tr(u):window,t){case"focusin":(Eu(x)||x.contentEditable==="true")&&(jr=x,na=u,bn=null);break;case"focusout":bn=na=jr=null;break;case"mousedown":ia=!0;break;case"contextmenu":case"mouseup":case"dragend":ia=!1,Pu(h,r,c);break;case"selectionchange":if(mg)break;case"keydown":case"keyup":Pu(h,r,c)}var C;if(ul)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else br?Hd(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Vd&&r.locale!=="ko"&&(br||j!=="onCompositionStart"?j==="onCompositionEnd"&&br&&(C=zd()):(Tt=c,ol="value"in Tt?Tt.value:Tt.textContent,br=!0)),x=is(u,j),0<x.length&&(j=new wu(j,t,null,r,c),h.push({event:j,listeners:x}),C?j.data=C:(C=Wd(r),C!==null&&(j.data=C)))),(C=ng?ig(t,r):sg(t,r))&&(u=is(u,"onBeforeInput"),0<u.length&&(c=new wu("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=C))}nh(h,e)})}function zn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function is(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=In(t,r),s!=null&&n.unshift(zn(t,s,i)),s=In(t,e),s!=null&&n.push(zn(t,s,i))),t=t.return}return n}function gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ou(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=In(r,s),l!=null&&o.unshift(zn(r,l,a))):i||(l=In(r,s),l!=null&&o.push(zn(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var wg=/\r\n?/g,_g=/\u0000|\uFFFD/g;function Lu(t){return(typeof t=="string"?t:""+t).replace(wg,`
`).replace(_g,"")}function _i(t,e,r){if(e=Lu(e),Lu(t)!==e&&r)throw Error(b(425))}function ss(){}var sa=null,oa=null;function aa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var la=typeof setTimeout=="function"?setTimeout:void 0,Sg=typeof clearTimeout=="function"?clearTimeout:void 0,Nu=typeof Promise=="function"?Promise:void 0,kg=typeof queueMicrotask=="function"?queueMicrotask:typeof Nu<"u"?function(t){return Nu.resolve(null).then(t).catch(Eg)}:la;function Eg(t){setTimeout(function(){throw t})}function mo(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Dn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Dn(e)}function At(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Au(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),it="__reactFiber$"+Xr,Vn="__reactProps$"+Xr,mt="__reactContainer$"+Xr,ua="__reactEvents$"+Xr,xg="__reactListeners$"+Xr,Cg="__reactHandles$"+Xr;function nr(t){var e=t[it];if(e)return e;for(var r=t.parentNode;r;){if(e=r[mt]||r[it]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Au(t);t!==null;){if(r=t[it])return r;t=Au(t)}return e}t=r,r=t.parentNode}return null}function ni(t){return t=t[it]||t[mt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function Ns(t){return t[Vn]||null}var ca=[],Rr=-1;function zt(t){return{current:t}}function H(t){0>Rr||(t.current=ca[Rr],ca[Rr]=null,Rr--)}function z(t,e){Rr++,ca[Rr]=t.current,t.current=e}var Bt={},ge=zt(Bt),Ce=zt(!1),ur=Bt;function Hr(t,e){var r=t.type.contextTypes;if(!r)return Bt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function be(t){return t=t.childContextTypes,t!=null}function os(){H(Ce),H(ge)}function Iu(t,e,r){if(ge.current!==Bt)throw Error(b(168));z(ge,e),z(Ce,r)}function sh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(b(108,um(t)||"Unknown",i));return Z({},r,n)}function as(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bt,ur=ge.current,z(ge,t),z(Ce,Ce.current),!0}function $u(t,e,r){var n=t.stateNode;if(!n)throw Error(b(169));r?(t=sh(t,e,ur),n.__reactInternalMemoizedMergedChildContext=t,H(Ce),H(ge),z(ge,t)):H(Ce),z(Ce,r)}var ut=null,As=!1,go=!1;function oh(t){ut===null?ut=[t]:ut.push(t)}function bg(t){As=!0,oh(t)}function Vt(){if(!go&&ut!==null){go=!0;var t=0,e=M;try{var r=ut;for(M=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ut=null,As=!1}catch(i){throw ut!==null&&(ut=ut.slice(t+1)),Od(rl,Vt),i}finally{M=e,go=!1}}return null}var Or=[],Lr=0,ls=null,us=0,Ue=[],De=0,cr=null,ct=1,dt="";function Qt(t,e){Or[Lr++]=us,Or[Lr++]=ls,ls=t,us=e}function ah(t,e,r){Ue[De++]=ct,Ue[De++]=dt,Ue[De++]=cr,cr=t;var n=ct;t=dt;var i=32-Qe(n)-1;n&=~(1<<i),r+=1;var s=32-Qe(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ct=1<<32-Qe(e)+i|r<<i|n,dt=s+t}else ct=1<<s|r<<i|n,dt=t}function dl(t){t.return!==null&&(Qt(t,1),ah(t,1,0))}function hl(t){for(;t===ls;)ls=Or[--Lr],Or[Lr]=null,us=Or[--Lr],Or[Lr]=null;for(;t===cr;)cr=Ue[--De],Ue[De]=null,dt=Ue[--De],Ue[De]=null,ct=Ue[--De],Ue[De]=null}var Ne=null,Le=null,W=!1,Ze=null;function lh(t,e){var r=Me(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Uu(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ne=t,Le=At(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ne=t,Le=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=cr!==null?{id:ct,overflow:dt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Me(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ne=t,Le=null,!0):!1;default:return!1}}function da(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ha(t){if(W){var e=Le;if(e){var r=e;if(!Uu(t,e)){if(da(t))throw Error(b(418));e=At(r.nextSibling);var n=Ne;e&&Uu(t,e)?lh(n,r):(t.flags=t.flags&-4097|2,W=!1,Ne=t)}}else{if(da(t))throw Error(b(418));t.flags=t.flags&-4097|2,W=!1,Ne=t}}}function Du(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ne=t}function Si(t){if(t!==Ne)return!1;if(!W)return Du(t),W=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!aa(t.type,t.memoizedProps)),e&&(e=Le)){if(da(t))throw uh(),Error(b(418));for(;e;)lh(t,e),e=At(e.nextSibling)}if(Du(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Le=At(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Le=null}}else Le=Ne?At(t.stateNode.nextSibling):null;return!0}function uh(){for(var t=Le;t;)t=At(t.nextSibling)}function Wr(){Le=Ne=null,W=!1}function fl(t){Ze===null?Ze=[t]:Ze.push(t)}var jg=wt.ReactCurrentBatchConfig;function fn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(b(309));var n=r.stateNode}if(!n)throw Error(b(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(b(284));if(!r._owner)throw Error(b(290,t))}return t}function ki(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mu(t){var e=t._init;return e(t._payload)}function ch(t){function e(g,f){if(t){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function r(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function i(g,f){return g=Dt(g,f),g.index=0,g.sibling=null,g}function s(g,f,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,f,p,S){return f===null||f.tag!==6?(f=Eo(p,g.mode,S),f.return=g,f):(f=i(f,p),f.return=g,f)}function l(g,f,p,S){var E=p.type;return E===Cr?c(g,f,p.props.children,S,p.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xt&&Mu(E)===f.type)?(S=i(f,p.props),S.ref=fn(g,f,p),S.return=g,S):(S=Gi(p.type,p.key,p.props,null,g.mode,S),S.ref=fn(g,f,p),S.return=g,S)}function u(g,f,p,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=xo(p,g.mode,S),f.return=g,f):(f=i(f,p.children||[]),f.return=g,f)}function c(g,f,p,S,E){return f===null||f.tag!==7?(f=lr(p,g.mode,S,E),f.return=g,f):(f=i(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Eo(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case di:return p=Gi(f.type,f.key,f.props,null,g.mode,p),p.ref=fn(g,null,f),p.return=g,p;case xr:return f=xo(f,g.mode,p),f.return=g,f;case xt:var S=f._init;return h(g,S(f._payload),p)}if(yn(f)||ln(f))return f=lr(f,g.mode,p,null),f.return=g,f;ki(g,f)}return null}function d(g,f,p,S){var E=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return E!==null?null:a(g,f,""+p,S);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case di:return p.key===E?l(g,f,p,S):null;case xr:return p.key===E?u(g,f,p,S):null;case xt:return E=p._init,d(g,f,E(p._payload),S)}if(yn(p)||ln(p))return E!==null?null:c(g,f,p,S,null);ki(g,p)}return null}function m(g,f,p,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(p)||null,a(f,g,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case di:return g=g.get(S.key===null?p:S.key)||null,l(f,g,S,E);case xr:return g=g.get(S.key===null?p:S.key)||null,u(f,g,S,E);case xt:var x=S._init;return m(g,f,p,x(S._payload),E)}if(yn(S)||ln(S))return g=g.get(p)||null,c(f,g,S,E,null);ki(f,S)}return null}function y(g,f,p,S){for(var E=null,x=null,C=f,j=f=0,A=null;C!==null&&j<p.length;j++){C.index>j?(A=C,C=null):A=C.sibling;var N=d(g,C,p[j],S);if(N===null){C===null&&(C=A);break}t&&C&&N.alternate===null&&e(g,C),f=s(N,f,j),x===null?E=N:x.sibling=N,x=N,C=A}if(j===p.length)return r(g,C),W&&Qt(g,j),E;if(C===null){for(;j<p.length;j++)C=h(g,p[j],S),C!==null&&(f=s(C,f,j),x===null?E=C:x.sibling=C,x=C);return W&&Qt(g,j),E}for(C=n(g,C);j<p.length;j++)A=m(C,g,j,p[j],S),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?j:A.key),f=s(A,f,j),x===null?E=A:x.sibling=A,x=A);return t&&C.forEach(function(le){return e(g,le)}),W&&Qt(g,j),E}function w(g,f,p,S){var E=ln(p);if(typeof E!="function")throw Error(b(150));if(p=E.call(p),p==null)throw Error(b(151));for(var x=E=null,C=f,j=f=0,A=null,N=p.next();C!==null&&!N.done;j++,N=p.next()){C.index>j?(A=C,C=null):A=C.sibling;var le=d(g,C,N.value,S);if(le===null){C===null&&(C=A);break}t&&C&&le.alternate===null&&e(g,C),f=s(le,f,j),x===null?E=le:x.sibling=le,x=le,C=A}if(N.done)return r(g,C),W&&Qt(g,j),E;if(C===null){for(;!N.done;j++,N=p.next())N=h(g,N.value,S),N!==null&&(f=s(N,f,j),x===null?E=N:x.sibling=N,x=N);return W&&Qt(g,j),E}for(C=n(g,C);!N.done;j++,N=p.next())N=m(C,g,j,N.value,S),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?j:N.key),f=s(N,f,j),x===null?E=N:x.sibling=N,x=N);return t&&C.forEach(function(St){return e(g,St)}),W&&Qt(g,j),E}function _(g,f,p,S){if(typeof p=="object"&&p!==null&&p.type===Cr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case di:e:{for(var E=p.key,x=f;x!==null;){if(x.key===E){if(E=p.type,E===Cr){if(x.tag===7){r(g,x.sibling),f=i(x,p.props.children),f.return=g,g=f;break e}}else if(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xt&&Mu(E)===x.type){r(g,x.sibling),f=i(x,p.props),f.ref=fn(g,x,p),f.return=g,g=f;break e}r(g,x);break}else e(g,x);x=x.sibling}p.type===Cr?(f=lr(p.props.children,g.mode,S,p.key),f.return=g,g=f):(S=Gi(p.type,p.key,p.props,null,g.mode,S),S.ref=fn(g,f,p),S.return=g,g=S)}return o(g);case xr:e:{for(x=p.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){r(g,f.sibling),f=i(f,p.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else e(g,f);f=f.sibling}f=xo(p,g.mode,S),f.return=g,g=f}return o(g);case xt:return x=p._init,_(g,f,x(p._payload),S)}if(yn(p))return y(g,f,p,S);if(ln(p))return w(g,f,p,S);ki(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(r(g,f.sibling),f=i(f,p),f.return=g,g=f):(r(g,f),f=Eo(p,g.mode,S),f.return=g,g=f),o(g)):r(g,f)}return _}var Kr=ch(!0),dh=ch(!1),cs=zt(null),ds=null,Nr=null,pl=null;function ml(){pl=Nr=ds=null}function gl(t){var e=cs.current;H(cs),t._currentValue=e}function fa(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Br(t,e){ds=t,pl=Nr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xe=!0),t.firstContext=null)}function Fe(t){var e=t._currentValue;if(pl!==t)if(t={context:t,memoizedValue:e,next:null},Nr===null){if(ds===null)throw Error(b(308));Nr=t,ds.dependencies={lanes:0,firstContext:t}}else Nr=Nr.next=t;return e}var ir=null;function vl(t){ir===null?ir=[t]:ir.push(t)}function hh(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,vl(e)):(r.next=i.next,i.next=r),e.interleaved=r,gt(t,n)}function gt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ct=!1;function yl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function It(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,D&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,gt(t,r)}return i=n.interleaved,i===null?(e.next=e,vl(n)):(e.next=i.next,i.next=e),n.interleaved=e,gt(t,r)}function zi(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,nl(t,r)}}function Bu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function hs(t,e,r,n){var i=t.updateQueue;Ct=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(d=e,m=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(m,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,d=typeof y=="function"?y.call(m,h,d):y,d==null)break e;h=Z({},h,d);break e;case 2:Ct=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);hr|=o,t.lanes=o,t.memoizedState=h}}function Fu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(b(191,i));i.call(n)}}}var ii={},ot=zt(ii),Hn=zt(ii),Wn=zt(ii);function sr(t){if(t===ii)throw Error(b(174));return t}function wl(t,e){switch(z(Wn,e),z(Hn,t),z(ot,ii),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qo(e,t)}H(ot),z(ot,e)}function qr(){H(ot),H(Hn),H(Wn)}function ph(t){sr(Wn.current);var e=sr(ot.current),r=qo(e,t.type);e!==r&&(z(Hn,t),z(ot,r))}function _l(t){Hn.current===t&&(H(ot),H(Hn))}var G=zt(0);function fs(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vo=[];function Sl(){for(var t=0;t<vo.length;t++)vo[t]._workInProgressVersionPrimary=null;vo.length=0}var Vi=wt.ReactCurrentDispatcher,yo=wt.ReactCurrentBatchConfig,dr=0,J=null,ne=null,oe=null,ps=!1,jn=!1,Kn=0,Pg=0;function fe(){throw Error(b(321))}function kl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Xe(t[r],e[r]))return!1;return!0}function El(t,e,r,n,i,s){if(dr=s,J=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vi.current=t===null||t.memoizedState===null?Lg:Ng,t=r(n,i),jn){s=0;do{if(jn=!1,Kn=0,25<=s)throw Error(b(301));s+=1,oe=ne=null,e.updateQueue=null,Vi.current=Ag,t=r(n,i)}while(jn)}if(Vi.current=ms,e=ne!==null&&ne.next!==null,dr=0,oe=ne=J=null,ps=!1,e)throw Error(b(300));return t}function xl(){var t=Kn!==0;return Kn=0,t}function nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?J.memoizedState=oe=t:oe=oe.next=t,oe}function ze(){if(ne===null){var t=J.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var e=oe===null?J.memoizedState:oe.next;if(e!==null)oe=e,ne=t;else{if(t===null)throw Error(b(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},oe===null?J.memoizedState=oe=t:oe=oe.next=t}return oe}function qn(t,e){return typeof e=="function"?e(t):e}function wo(t){var e=ze(),r=e.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=t;var n=ne,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((dr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,J.lanes|=c,hr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Xe(n,e.memoizedState)||(xe=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,J.lanes|=s,hr|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function _o(t){var e=ze(),r=e.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Xe(s,e.memoizedState)||(xe=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function mh(){}function gh(t,e){var r=J,n=ze(),i=e(),s=!Xe(n.memoizedState,i);if(s&&(n.memoizedState=i,xe=!0),n=n.queue,Cl(wh.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||oe!==null&&oe.memoizedState.tag&1){if(r.flags|=2048,Gn(9,yh.bind(null,r,n,i,e),void 0,null),ae===null)throw Error(b(349));dr&30||vh(r,e,i)}return i}function vh(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function yh(t,e,r,n){e.value=r,e.getSnapshot=n,_h(e)&&Sh(t)}function wh(t,e,r){return r(function(){_h(e)&&Sh(t)})}function _h(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Xe(t,r)}catch{return!0}}function Sh(t){var e=gt(t,1);e!==null&&Ye(e,t,1,-1)}function zu(t){var e=nt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:t},e.queue=t,t=t.dispatch=Og.bind(null,J,t),[e.memoizedState,t]}function Gn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function kh(){return ze().memoizedState}function Hi(t,e,r,n){var i=nt();J.flags|=t,i.memoizedState=Gn(1|e,r,void 0,n===void 0?null:n)}function Is(t,e,r,n){var i=ze();n=n===void 0?null:n;var s=void 0;if(ne!==null){var o=ne.memoizedState;if(s=o.destroy,n!==null&&kl(n,o.deps)){i.memoizedState=Gn(e,r,s,n);return}}J.flags|=t,i.memoizedState=Gn(1|e,r,s,n)}function Vu(t,e){return Hi(8390656,8,t,e)}function Cl(t,e){return Is(2048,8,t,e)}function Eh(t,e){return Is(4,2,t,e)}function xh(t,e){return Is(4,4,t,e)}function Ch(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bh(t,e,r){return r=r!=null?r.concat([t]):null,Is(4,4,Ch.bind(null,e,t),r)}function bl(){}function jh(t,e){var r=ze();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Ph(t,e){var r=ze();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Th(t,e,r){return dr&21?(Xe(r,e)||(r=Ad(),J.lanes|=r,hr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xe=!0),t.memoizedState=r)}function Tg(t,e){var r=M;M=r!==0&&4>r?r:4,t(!0);var n=yo.transition;yo.transition={};try{t(!1),e()}finally{M=r,yo.transition=n}}function Rh(){return ze().memoizedState}function Rg(t,e,r){var n=Ut(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Oh(t))Lh(e,r);else if(r=hh(t,e,r,n),r!==null){var i=we();Ye(r,t,n,i),Nh(r,e,n)}}function Og(t,e,r){var n=Ut(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Oh(t))Lh(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Xe(a,o)){var l=e.interleaved;l===null?(i.next=i,vl(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=hh(t,e,i,n),r!==null&&(i=we(),Ye(r,t,n,i),Nh(r,e,n))}}function Oh(t){var e=t.alternate;return t===J||e!==null&&e===J}function Lh(t,e){jn=ps=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Nh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,nl(t,r)}}var ms={readContext:Fe,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},Lg={readContext:Fe,useCallback:function(t,e){return nt().memoizedState=[t,e===void 0?null:e],t},useContext:Fe,useEffect:Vu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Hi(4194308,4,Ch.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Hi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hi(4,2,t,e)},useMemo:function(t,e){var r=nt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=nt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Rg.bind(null,J,t),[n.memoizedState,t]},useRef:function(t){var e=nt();return t={current:t},e.memoizedState=t},useState:zu,useDebugValue:bl,useDeferredValue:function(t){return nt().memoizedState=t},useTransition:function(){var t=zu(!1),e=t[0];return t=Tg.bind(null,t[1]),nt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=J,i=nt();if(W){if(r===void 0)throw Error(b(407));r=r()}else{if(r=e(),ae===null)throw Error(b(349));dr&30||vh(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Vu(wh.bind(null,n,s,t),[t]),n.flags|=2048,Gn(9,yh.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=nt(),e=ae.identifierPrefix;if(W){var r=dt,n=ct;r=(n&~(1<<32-Qe(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Kn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Pg++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ng={readContext:Fe,useCallback:jh,useContext:Fe,useEffect:Cl,useImperativeHandle:bh,useInsertionEffect:Eh,useLayoutEffect:xh,useMemo:Ph,useReducer:wo,useRef:kh,useState:function(){return wo(qn)},useDebugValue:bl,useDeferredValue:function(t){var e=ze();return Th(e,ne.memoizedState,t)},useTransition:function(){var t=wo(qn)[0],e=ze().memoizedState;return[t,e]},useMutableSource:mh,useSyncExternalStore:gh,useId:Rh,unstable_isNewReconciler:!1},Ag={readContext:Fe,useCallback:jh,useContext:Fe,useEffect:Cl,useImperativeHandle:bh,useInsertionEffect:Eh,useLayoutEffect:xh,useMemo:Ph,useReducer:_o,useRef:kh,useState:function(){return _o(qn)},useDebugValue:bl,useDeferredValue:function(t){var e=ze();return ne===null?e.memoizedState=t:Th(e,ne.memoizedState,t)},useTransition:function(){var t=_o(qn)[0],e=ze().memoizedState;return[t,e]},useMutableSource:mh,useSyncExternalStore:gh,useId:Rh,unstable_isNewReconciler:!1};function Ke(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function pa(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Z({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var $s={isMounted:function(t){return(t=t._reactInternals)?mr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=we(),i=Ut(t),s=ht(n,i);s.payload=e,r!=null&&(s.callback=r),e=It(t,s,i),e!==null&&(Ye(e,t,i,n),zi(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=we(),i=Ut(t),s=ht(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=It(t,s,i),e!==null&&(Ye(e,t,i,n),zi(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=we(),n=Ut(t),i=ht(r,n);i.tag=2,e!=null&&(i.callback=e),e=It(t,i,n),e!==null&&(Ye(e,t,n,r),zi(e,t,n))}};function Hu(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bn(r,n)||!Bn(i,s):!0}function Ah(t,e,r){var n=!1,i=Bt,s=e.contextType;return typeof s=="object"&&s!==null?s=Fe(s):(i=be(e)?ur:ge.current,n=e.contextTypes,s=(n=n!=null)?Hr(t,i):Bt),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$s,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Wu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&$s.enqueueReplaceState(e,e.state,null)}function ma(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},yl(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fe(s):(s=be(e)?ur:ge.current,i.context=Hr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(pa(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$s.enqueueReplaceState(i,i.state,null),hs(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gr(t,e){try{var r="",n=e;do r+=lm(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function So(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ga(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Ig=typeof WeakMap=="function"?WeakMap:Map;function Ih(t,e,r){r=ht(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){vs||(vs=!0,ba=n),ga(t,e)},r}function $h(t,e,r){r=ht(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ga(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ga(t,e),typeof n!="function"&&($t===null?$t=new Set([this]):$t.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Ku(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Ig;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Jg.bind(null,t,e,r),e.then(t,t))}function qu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gu(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ht(-1,1),e.tag=2,It(r,e,1))),r.lanes|=1),t)}var $g=wt.ReactCurrentOwner,xe=!1;function ve(t,e,r,n){e.child=t===null?dh(e,null,r,n):Kr(e,t.child,r,n)}function Ju(t,e,r,n,i){r=r.render;var s=e.ref;return Br(e,i),n=El(t,e,r,n,s,i),r=xl(),t!==null&&!xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vt(t,e,i)):(W&&r&&dl(e),e.flags|=1,ve(t,e,n,i),e.child)}function Zu(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Al(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Uh(t,e,s,n,i)):(t=Gi(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Bn,r(o,n)&&t.ref===e.ref)return vt(t,e,i)}return e.flags|=1,t=Dt(s,n),t.ref=e.ref,t.return=e,e.child=t}function Uh(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Bn(s,n)&&t.ref===e.ref)if(xe=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(xe=!0);else return e.lanes=t.lanes,vt(t,e,i)}return va(t,e,r,n,i)}function Dh(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},z(Ir,Te),Te|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,z(Ir,Te),Te|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,z(Ir,Te),Te|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,z(Ir,Te),Te|=n;return ve(t,e,i,r),e.child}function Mh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function va(t,e,r,n,i){var s=be(r)?ur:ge.current;return s=Hr(e,s),Br(e,i),r=El(t,e,r,n,s,i),n=xl(),t!==null&&!xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vt(t,e,i)):(W&&n&&dl(e),e.flags|=1,ve(t,e,r,i),e.child)}function Qu(t,e,r,n,i){if(be(r)){var s=!0;as(e)}else s=!1;if(Br(e,i),e.stateNode===null)Wi(t,e),Ah(e,r,n),ma(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Fe(u):(u=be(r)?ur:ge.current,u=Hr(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Wu(e,o,n,u),Ct=!1;var d=e.memoizedState;o.state=d,hs(e,n,o,i),l=e.memoizedState,a!==n||d!==l||Ce.current||Ct?(typeof c=="function"&&(pa(e,r,c,n),l=e.memoizedState),(a=Ct||Hu(e,r,a,n,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,fh(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ke(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Fe(l):(l=be(r)?ur:ge.current,l=Hr(e,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Wu(e,o,n,l),Ct=!1,d=e.memoizedState,o.state=d,hs(e,n,o,i);var y=e.memoizedState;a!==h||d!==y||Ce.current||Ct?(typeof m=="function"&&(pa(e,r,m,n),y=e.memoizedState),(u=Ct||Hu(e,r,u,n,d,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return ya(t,e,r,n,s,i)}function ya(t,e,r,n,i,s){Mh(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&$u(e,r,!1),vt(t,e,s);n=e.stateNode,$g.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Kr(e,t.child,null,s),e.child=Kr(e,null,a,s)):ve(t,e,a,s),e.memoizedState=n.state,i&&$u(e,r,!0),e.child}function Bh(t){var e=t.stateNode;e.pendingContext?Iu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Iu(t,e.context,!1),wl(t,e.containerInfo)}function Yu(t,e,r,n,i){return Wr(),fl(i),e.flags|=256,ve(t,e,r,n),e.child}var wa={dehydrated:null,treeContext:null,retryLane:0};function _a(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fh(t,e,r){var n=e.pendingProps,i=G.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),z(G,i&1),t===null)return ha(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ms(o,n,0,null),t=lr(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=_a(r),e.memoizedState=wa,t):jl(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Ug(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Dt(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Dt(a,s):(s=lr(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?_a(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=wa,n}return s=t.child,t=s.sibling,n=Dt(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function jl(t,e){return e=Ms({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ei(t,e,r,n){return n!==null&&fl(n),Kr(e,t.child,null,r),t=jl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ug(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=So(Error(b(422))),Ei(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Ms({mode:"visible",children:n.children},i,0,null),s=lr(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Kr(e,t.child,null,o),e.child.memoizedState=_a(o),e.memoizedState=wa,s);if(!(e.mode&1))return Ei(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(b(419)),n=So(s,n,void 0),Ei(t,e,o,n)}if(a=(o&t.childLanes)!==0,xe||a){if(n=ae,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,gt(t,i),Ye(n,t,i,-1))}return Nl(),n=So(Error(b(421))),Ei(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Zg.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Le=At(i.nextSibling),Ne=e,W=!0,Ze=null,t!==null&&(Ue[De++]=ct,Ue[De++]=dt,Ue[De++]=cr,ct=t.id,dt=t.overflow,cr=e),e=jl(e,n.children),e.flags|=4096,e)}function Xu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),fa(t.return,e,r)}function ko(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function zh(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(ve(t,e,n.children,r),n=G.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xu(t,r,e);else if(t.tag===19)Xu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(z(G,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&fs(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ko(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fs(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ko(e,!0,r,null,s);break;case"together":ko(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),hr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,r=Dt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Dt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Dg(t,e,r){switch(e.tag){case 3:Bh(e),Wr();break;case 5:ph(e);break;case 1:be(e.type)&&as(e);break;case 4:wl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;z(cs,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(z(G,G.current&1),e.flags|=128,null):r&e.child.childLanes?Fh(t,e,r):(z(G,G.current&1),t=vt(t,e,r),t!==null?t.sibling:null);z(G,G.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return zh(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(G,G.current),n)break;return null;case 22:case 23:return e.lanes=0,Dh(t,e,r)}return vt(t,e,r)}var Vh,Sa,Hh,Wh;Vh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sa=function(){};Hh=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,sr(ot.current);var s=null;switch(r){case"input":i=Vo(t,i),n=Vo(t,n),s=[];break;case"select":i=Z({},i,{value:void 0}),n=Z({},n,{value:void 0}),s=[];break;case"textarea":i=Ko(t,i),n=Ko(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ss)}Go(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nn.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nn.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&V("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Wh=function(t,e,r,n){r!==n&&(e.flags|=4)};function pn(t,e){if(!W)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Mg(t,e,r){var n=e.pendingProps;switch(hl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(e),null;case 1:return be(e.type)&&os(),pe(e),null;case 3:return n=e.stateNode,qr(),H(Ce),H(ge),Sl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Si(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ze!==null&&(Ta(Ze),Ze=null))),Sa(t,e),pe(e),null;case 5:_l(e);var i=sr(Wn.current);if(r=e.type,t!==null&&e.stateNode!=null)Hh(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(b(166));return pe(e),null}if(t=sr(ot.current),Si(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[it]=e,n[Vn]=s,t=(e.mode&1)!==0,r){case"dialog":V("cancel",n),V("close",n);break;case"iframe":case"object":case"embed":V("load",n);break;case"video":case"audio":for(i=0;i<_n.length;i++)V(_n[i],n);break;case"source":V("error",n);break;case"img":case"image":case"link":V("error",n),V("load",n);break;case"details":V("toggle",n);break;case"input":lu(n,s),V("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},V("invalid",n);break;case"textarea":cu(n,s),V("invalid",n)}Go(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&_i(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_i(n.textContent,a,t),i=["children",""+a]):Nn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&V("scroll",n)}switch(r){case"input":hi(n),uu(n,s,!0);break;case"textarea":hi(n),du(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ss)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[it]=e,t[Vn]=n,Vh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jo(r,n),r){case"dialog":V("cancel",t),V("close",t),i=n;break;case"iframe":case"object":case"embed":V("load",t),i=n;break;case"video":case"audio":for(i=0;i<_n.length;i++)V(_n[i],t);i=n;break;case"source":V("error",t),i=n;break;case"img":case"image":case"link":V("error",t),V("load",t),i=n;break;case"details":V("toggle",t),i=n;break;case"input":lu(t,n),i=Vo(t,n),V("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Z({},n,{value:void 0}),V("invalid",t);break;case"textarea":cu(t,n),i=Ko(t,n),V("invalid",t);break;default:i=n}Go(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?kd(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_d(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&An(t,l):typeof l=="number"&&An(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nn.hasOwnProperty(s)?l!=null&&s==="onScroll"&&V("scroll",t):l!=null&&Qa(t,s,l,o))}switch(r){case"input":hi(t),uu(t,n,!1);break;case"textarea":hi(t),du(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Mt(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?$r(t,!!n.multiple,s,!1):n.defaultValue!=null&&$r(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ss)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pe(e),null;case 6:if(t&&e.stateNode!=null)Wh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(b(166));if(r=sr(Wn.current),sr(ot.current),Si(e)){if(n=e.stateNode,r=e.memoizedProps,n[it]=e,(s=n.nodeValue!==r)&&(t=Ne,t!==null))switch(t.tag){case 3:_i(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_i(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[it]=e,e.stateNode=n}return pe(e),null;case 13:if(H(G),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(W&&Le!==null&&e.mode&1&&!(e.flags&128))uh(),Wr(),e.flags|=98560,s=!1;else if(s=Si(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(b(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[it]=e}else Wr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pe(e),s=!1}else Ze!==null&&(Ta(Ze),Ze=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||G.current&1?ie===0&&(ie=3):Nl())),e.updateQueue!==null&&(e.flags|=4),pe(e),null);case 4:return qr(),Sa(t,e),t===null&&Fn(e.stateNode.containerInfo),pe(e),null;case 10:return gl(e.type._context),pe(e),null;case 17:return be(e.type)&&os(),pe(e),null;case 19:if(H(G),s=e.memoizedState,s===null)return pe(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)pn(s,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fs(t),o!==null){for(e.flags|=128,pn(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return z(G,G.current&1|2),e.child}t=t.sibling}s.tail!==null&&X()>Jr&&(e.flags|=128,n=!0,pn(s,!1),e.lanes=4194304)}else{if(!n)if(t=fs(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),pn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!W)return pe(e),null}else 2*X()-s.renderingStartTime>Jr&&r!==1073741824&&(e.flags|=128,n=!0,pn(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=X(),e.sibling=null,r=G.current,z(G,n?r&1|2:r&1),e):(pe(e),null);case 22:case 23:return Ll(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Te&1073741824&&(pe(e),e.subtreeFlags&6&&(e.flags|=8192)):pe(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function Bg(t,e){switch(hl(e),e.tag){case 1:return be(e.type)&&os(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qr(),H(Ce),H(ge),Sl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _l(e),null;case 13:if(H(G),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Wr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(G),null;case 4:return qr(),null;case 10:return gl(e.type._context),null;case 22:case 23:return Ll(),null;case 24:return null;default:return null}}var xi=!1,me=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,P=null;function Ar(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Q(t,e,n)}else r.current=null}function ka(t,e,r){try{r()}catch(n){Q(t,e,n)}}var ec=!1;function zg(t,e){if(sa=rs,t=Zd(),cl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var m;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)d=h,h=m;for(;;){if(h===t)break t;if(d===r&&++u===i&&(a=o),d===s&&++c===n&&(l=o),(m=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(oa={focusedElem:t,selectionRange:r},rs=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ke(e.type,w),_);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(S){Q(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return y=ec,ec=!1,y}function Pn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ka(e,r,s)}i=i.next}while(i!==n)}}function Us(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ea(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Kh(t){var e=t.alternate;e!==null&&(t.alternate=null,Kh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[it],delete e[Vn],delete e[ua],delete e[xg],delete e[Cg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qh(t){return t.tag===5||t.tag===3||t.tag===4}function tc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ss));else if(n!==4&&(t=t.child,t!==null))for(xa(t,e,r),t=t.sibling;t!==null;)xa(t,e,r),t=t.sibling}function Ca(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ca(t,e,r),t=t.sibling;t!==null;)Ca(t,e,r),t=t.sibling}var ce=null,Ge=!1;function kt(t,e,r){for(r=r.child;r!==null;)Gh(t,e,r),r=r.sibling}function Gh(t,e,r){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Ts,r)}catch{}switch(r.tag){case 5:me||Ar(r,e);case 6:var n=ce,i=Ge;ce=null,kt(t,e,r),ce=n,Ge=i,ce!==null&&(Ge?(t=ce,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ce.removeChild(r.stateNode));break;case 18:ce!==null&&(Ge?(t=ce,r=r.stateNode,t.nodeType===8?mo(t.parentNode,r):t.nodeType===1&&mo(t,r),Dn(t)):mo(ce,r.stateNode));break;case 4:n=ce,i=Ge,ce=r.stateNode.containerInfo,Ge=!0,kt(t,e,r),ce=n,Ge=i;break;case 0:case 11:case 14:case 15:if(!me&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ka(r,e,o),i=i.next}while(i!==n)}kt(t,e,r);break;case 1:if(!me&&(Ar(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Q(r,e,a)}kt(t,e,r);break;case 21:kt(t,e,r);break;case 22:r.mode&1?(me=(n=me)||r.memoizedState!==null,kt(t,e,r),me=n):kt(t,e,r);break;default:kt(t,e,r)}}function rc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Fg),e.forEach(function(n){var i=Qg.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function He(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ce=a.stateNode,Ge=!1;break e;case 3:ce=a.stateNode.containerInfo,Ge=!0;break e;case 4:ce=a.stateNode.containerInfo,Ge=!0;break e}a=a.return}if(ce===null)throw Error(b(160));Gh(s,o,i),ce=null,Ge=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Q(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Jh(e,t),e=e.sibling}function Jh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(He(e,t),rt(t),n&4){try{Pn(3,t,t.return),Us(3,t)}catch(w){Q(t,t.return,w)}try{Pn(5,t,t.return)}catch(w){Q(t,t.return,w)}}break;case 1:He(e,t),rt(t),n&512&&r!==null&&Ar(r,r.return);break;case 5:if(He(e,t),rt(t),n&512&&r!==null&&Ar(r,r.return),t.flags&32){var i=t.stateNode;try{An(i,"")}catch(w){Q(t,t.return,w)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&vd(i,s),Jo(a,o);var u=Jo(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?kd(i,h):c==="dangerouslySetInnerHTML"?_d(i,h):c==="children"?An(i,h):Qa(i,c,h,u)}switch(a){case"input":Ho(i,s);break;case"textarea":yd(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?$r(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?$r(i,!!s.multiple,s.defaultValue,!0):$r(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vn]=s}catch(w){Q(t,t.return,w)}}break;case 6:if(He(e,t),rt(t),n&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Q(t,t.return,w)}}break;case 3:if(He(e,t),rt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Dn(e.containerInfo)}catch(w){Q(t,t.return,w)}break;case 4:He(e,t),rt(t);break;case 13:He(e,t),rt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Rl=X())),n&4&&rc(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(me=(u=me)||c,He(e,t),me=u):He(e,t),rt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(P=t,c=t.child;c!==null;){for(h=P=c;P!==null;){switch(d=P,m=d.child,d.tag){case 0:case 11:case 14:case 15:Pn(4,d,d.return);break;case 1:Ar(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Q(n,r,w)}}break;case 5:Ar(d,d.return);break;case 22:if(d.memoizedState!==null){ic(h);continue}}m!==null?(m.return=d,P=m):ic(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Sd("display",o))}catch(w){Q(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Q(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:He(e,t),rt(t),n&4&&rc(t);break;case 21:break;default:He(e,t),rt(t)}}function rt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(qh(r)){var n=r;break e}r=r.return}throw Error(b(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(An(i,""),n.flags&=-33);var s=tc(t);Ca(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=tc(t);xa(t,a,o);break;default:throw Error(b(161))}}catch(l){Q(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vg(t,e,r){P=t,Zh(t)}function Zh(t,e,r){for(var n=(t.mode&1)!==0;P!==null;){var i=P,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||xi;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||me;a=xi;var u=me;if(xi=o,(me=l)&&!u)for(P=i;P!==null;)o=P,l=o.child,o.tag===22&&o.memoizedState!==null?sc(i):l!==null?(l.return=o,P=l):sc(i);for(;s!==null;)P=s,Zh(s),s=s.sibling;P=i,xi=a,me=u}nc(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,P=s):nc(t)}}function nc(t){for(;P!==null;){var e=P;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:me||Us(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!me)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ke(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Fu(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Fu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Dn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}me||e.flags&512&&Ea(e)}catch(d){Q(e,e.return,d)}}if(e===t){P=null;break}if(r=e.sibling,r!==null){r.return=e.return,P=r;break}P=e.return}}function ic(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var r=e.sibling;if(r!==null){r.return=e.return,P=r;break}P=e.return}}function sc(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Us(4,e)}catch(l){Q(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Q(e,i,l)}}var s=e.return;try{Ea(e)}catch(l){Q(e,s,l)}break;case 5:var o=e.return;try{Ea(e)}catch(l){Q(e,o,l)}}}catch(l){Q(e,e.return,l)}if(e===t){P=null;break}var a=e.sibling;if(a!==null){a.return=e.return,P=a;break}P=e.return}}var Hg=Math.ceil,gs=wt.ReactCurrentDispatcher,Pl=wt.ReactCurrentOwner,Be=wt.ReactCurrentBatchConfig,D=0,ae=null,te=null,de=0,Te=0,Ir=zt(0),ie=0,Jn=null,hr=0,Ds=0,Tl=0,Tn=null,Ee=null,Rl=0,Jr=1/0,at=null,vs=!1,ba=null,$t=null,Ci=!1,Rt=null,ys=0,Rn=0,ja=null,Ki=-1,qi=0;function we(){return D&6?X():Ki!==-1?Ki:Ki=X()}function Ut(t){return t.mode&1?D&2&&de!==0?de&-de:jg.transition!==null?(qi===0&&(qi=Ad()),qi):(t=M,t!==0||(t=window.event,t=t===void 0?16:Fd(t.type)),t):1}function Ye(t,e,r,n){if(50<Rn)throw Rn=0,ja=null,Error(b(185));ti(t,r,n),(!(D&2)||t!==ae)&&(t===ae&&(!(D&2)&&(Ds|=r),ie===4&&jt(t,de)),je(t,n),r===1&&D===0&&!(e.mode&1)&&(Jr=X()+500,As&&Vt()))}function je(t,e){var r=t.callbackNode;jm(t,e);var n=ts(t,t===ae?de:0);if(n===0)r!==null&&pu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&pu(r),e===1)t.tag===0?bg(oc.bind(null,t)):oh(oc.bind(null,t)),kg(function(){!(D&6)&&Vt()}),r=null;else{switch(Id(n)){case 1:r=rl;break;case 4:r=Ld;break;case 16:r=es;break;case 536870912:r=Nd;break;default:r=es}r=sf(r,Qh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Qh(t,e){if(Ki=-1,qi=0,D&6)throw Error(b(327));var r=t.callbackNode;if(Fr()&&t.callbackNode!==r)return null;var n=ts(t,t===ae?de:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ws(t,n);else{e=n;var i=D;D|=2;var s=Xh();(ae!==t||de!==e)&&(at=null,Jr=X()+500,ar(t,e));do try{qg();break}catch(a){Yh(t,a)}while(1);ml(),gs.current=s,D=i,te!==null?e=0:(ae=null,de=0,e=ie)}if(e!==0){if(e===2&&(i=ea(t),i!==0&&(n=i,e=Pa(t,i))),e===1)throw r=Jn,ar(t,0),jt(t,n),je(t,X()),r;if(e===6)jt(t,n);else{if(i=t.current.alternate,!(n&30)&&!Wg(i)&&(e=ws(t,n),e===2&&(s=ea(t),s!==0&&(n=s,e=Pa(t,s))),e===1))throw r=Jn,ar(t,0),jt(t,n),je(t,X()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(b(345));case 2:Yt(t,Ee,at);break;case 3:if(jt(t,n),(n&130023424)===n&&(e=Rl+500-X(),10<e)){if(ts(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){we(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=la(Yt.bind(null,t,Ee,at),e);break}Yt(t,Ee,at);break;case 4:if(jt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Qe(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=X()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Hg(n/1960))-n,10<n){t.timeoutHandle=la(Yt.bind(null,t,Ee,at),n);break}Yt(t,Ee,at);break;case 5:Yt(t,Ee,at);break;default:throw Error(b(329))}}}return je(t,X()),t.callbackNode===r?Qh.bind(null,t):null}function Pa(t,e){var r=Tn;return t.current.memoizedState.isDehydrated&&(ar(t,e).flags|=256),t=ws(t,e),t!==2&&(e=Ee,Ee=r,e!==null&&Ta(e)),t}function Ta(t){Ee===null?Ee=t:Ee.push.apply(Ee,t)}function Wg(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Xe(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jt(t,e){for(e&=~Tl,e&=~Ds,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Qe(e),n=1<<r;t[r]=-1,e&=~n}}function oc(t){if(D&6)throw Error(b(327));Fr();var e=ts(t,0);if(!(e&1))return je(t,X()),null;var r=ws(t,e);if(t.tag!==0&&r===2){var n=ea(t);n!==0&&(e=n,r=Pa(t,n))}if(r===1)throw r=Jn,ar(t,0),jt(t,e),je(t,X()),r;if(r===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yt(t,Ee,at),je(t,X()),null}function Ol(t,e){var r=D;D|=1;try{return t(e)}finally{D=r,D===0&&(Jr=X()+500,As&&Vt())}}function fr(t){Rt!==null&&Rt.tag===0&&!(D&6)&&Fr();var e=D;D|=1;var r=Be.transition,n=M;try{if(Be.transition=null,M=1,t)return t()}finally{M=n,Be.transition=r,D=e,!(D&6)&&Vt()}}function Ll(){Te=Ir.current,H(Ir)}function ar(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Sg(r)),te!==null)for(r=te.return;r!==null;){var n=r;switch(hl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&os();break;case 3:qr(),H(Ce),H(ge),Sl();break;case 5:_l(n);break;case 4:qr();break;case 13:H(G);break;case 19:H(G);break;case 10:gl(n.type._context);break;case 22:case 23:Ll()}r=r.return}if(ae=t,te=t=Dt(t.current,null),de=Te=e,ie=0,Jn=null,Tl=Ds=hr=0,Ee=Tn=null,ir!==null){for(e=0;e<ir.length;e++)if(r=ir[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}ir=null}return t}function Yh(t,e){do{var r=te;try{if(ml(),Vi.current=ms,ps){for(var n=J.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ps=!1}if(dr=0,oe=ne=J=null,jn=!1,Kn=0,Pl.current=null,r===null||r.return===null){ie=1,Jn=e,te=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=de,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=qu(o);if(m!==null){m.flags&=-257,Gu(m,o,a,s,e),m.mode&1&&Ku(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Ku(s,u,e),Nl();break e}l=Error(b(426))}}else if(W&&a.mode&1){var _=qu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Gu(_,o,a,s,e),fl(Gr(l,a));break e}}s=l=Gr(l,a),ie!==4&&(ie=2),Tn===null?Tn=[s]:Tn.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Ih(s,l,e);Bu(s,g);break e;case 1:a=l;var f=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&($t===null||!$t.has(p)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=$h(s,a,e);Bu(s,S);break e}}s=s.return}while(s!==null)}tf(r)}catch(E){e=E,te===r&&r!==null&&(te=r=r.return);continue}break}while(1)}function Xh(){var t=gs.current;return gs.current=ms,t===null?ms:t}function Nl(){(ie===0||ie===3||ie===2)&&(ie=4),ae===null||!(hr&268435455)&&!(Ds&268435455)||jt(ae,de)}function ws(t,e){var r=D;D|=2;var n=Xh();(ae!==t||de!==e)&&(at=null,ar(t,e));do try{Kg();break}catch(i){Yh(t,i)}while(1);if(ml(),D=r,gs.current=n,te!==null)throw Error(b(261));return ae=null,de=0,ie}function Kg(){for(;te!==null;)ef(te)}function qg(){for(;te!==null&&!ym();)ef(te)}function ef(t){var e=nf(t.alternate,t,Te);t.memoizedProps=t.pendingProps,e===null?tf(t):te=e,Pl.current=null}function tf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Bg(r,e),r!==null){r.flags&=32767,te=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ie=6,te=null;return}}else if(r=Mg(r,e,Te),r!==null){te=r;return}if(e=e.sibling,e!==null){te=e;return}te=e=t}while(e!==null);ie===0&&(ie=5)}function Yt(t,e,r){var n=M,i=Be.transition;try{Be.transition=null,M=1,Gg(t,e,r,n)}finally{Be.transition=i,M=n}return null}function Gg(t,e,r,n){do Fr();while(Rt!==null);if(D&6)throw Error(b(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(Pm(t,s),t===ae&&(te=ae=null,de=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ci||(Ci=!0,sf(es,function(){return Fr(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Be.transition,Be.transition=null;var o=M;M=1;var a=D;D|=4,Pl.current=null,zg(t,r),Jh(r,t),pg(oa),rs=!!sa,oa=sa=null,t.current=r,Vg(r),wm(),D=a,M=o,Be.transition=s}else t.current=r;if(Ci&&(Ci=!1,Rt=t,ys=i),s=t.pendingLanes,s===0&&($t=null),km(r.stateNode),je(t,X()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(vs)throw vs=!1,t=ba,ba=null,t;return ys&1&&t.tag!==0&&Fr(),s=t.pendingLanes,s&1?t===ja?Rn++:(Rn=0,ja=t):Rn=0,Vt(),null}function Fr(){if(Rt!==null){var t=Id(ys),e=Be.transition,r=M;try{if(Be.transition=null,M=16>t?16:t,Rt===null)var n=!1;else{if(t=Rt,Rt=null,ys=0,D&6)throw Error(b(331));var i=D;for(D|=4,P=t.current;P!==null;){var s=P,o=s.child;if(P.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(P=u;P!==null;){var c=P;switch(c.tag){case 0:case 11:case 15:Pn(8,c,s)}var h=c.child;if(h!==null)h.return=c,P=h;else for(;P!==null;){c=P;var d=c.sibling,m=c.return;if(Kh(c),c===u){P=null;break}if(d!==null){d.return=m,P=d;break}P=m}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}P=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,P=o;else e:for(;P!==null;){if(s=P,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pn(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,P=g;break e}P=s.return}}var f=t.current;for(P=f;P!==null;){o=P;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,P=p;else e:for(o=f;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Us(9,a)}}catch(E){Q(a,a.return,E)}if(a===o){P=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,P=S;break e}P=a.return}}if(D=i,Vt(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Ts,t)}catch{}n=!0}return n}finally{M=r,Be.transition=e}}return!1}function ac(t,e,r){e=Gr(r,e),e=Ih(t,e,1),t=It(t,e,1),e=we(),t!==null&&(ti(t,1,e),je(t,e))}function Q(t,e,r){if(t.tag===3)ac(t,t,r);else for(;e!==null;){if(e.tag===3){ac(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($t===null||!$t.has(n))){t=Gr(r,t),t=$h(e,t,1),e=It(e,t,1),t=we(),e!==null&&(ti(e,1,t),je(e,t));break}}e=e.return}}function Jg(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=we(),t.pingedLanes|=t.suspendedLanes&r,ae===t&&(de&r)===r&&(ie===4||ie===3&&(de&130023424)===de&&500>X()-Rl?ar(t,0):Tl|=r),je(t,e)}function rf(t,e){e===0&&(t.mode&1?(e=mi,mi<<=1,!(mi&130023424)&&(mi=4194304)):e=1);var r=we();t=gt(t,e),t!==null&&(ti(t,e,r),je(t,r))}function Zg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),rf(t,r)}function Qg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(b(314))}n!==null&&n.delete(e),rf(t,r)}var nf;nf=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ce.current)xe=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return xe=!1,Dg(t,e,r);xe=!!(t.flags&131072)}else xe=!1,W&&e.flags&1048576&&ah(e,us,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Wi(t,e),t=e.pendingProps;var i=Hr(e,ge.current);Br(e,r),i=El(null,e,n,t,i,r);var s=xl();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,be(n)?(s=!0,as(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yl(e),i.updater=$s,e.stateNode=i,i._reactInternals=e,ma(e,n,t,r),e=ya(null,e,n,!0,s,r)):(e.tag=0,W&&s&&dl(e),ve(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Wi(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Xg(n),t=Ke(n,t),i){case 0:e=va(null,e,n,t,r);break e;case 1:e=Qu(null,e,n,t,r);break e;case 11:e=Ju(null,e,n,t,r);break e;case 14:e=Zu(null,e,n,Ke(n.type,t),r);break e}throw Error(b(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ke(n,i),va(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ke(n,i),Qu(t,e,n,i,r);case 3:e:{if(Bh(e),t===null)throw Error(b(387));n=e.pendingProps,s=e.memoizedState,i=s.element,fh(t,e),hs(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Gr(Error(b(423)),e),e=Yu(t,e,n,r,i);break e}else if(n!==i){i=Gr(Error(b(424)),e),e=Yu(t,e,n,r,i);break e}else for(Le=At(e.stateNode.containerInfo.firstChild),Ne=e,W=!0,Ze=null,r=dh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wr(),n===i){e=vt(t,e,r);break e}ve(t,e,n,r)}e=e.child}return e;case 5:return ph(e),t===null&&ha(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,aa(n,i)?o=null:s!==null&&aa(n,s)&&(e.flags|=32),Mh(t,e),ve(t,e,o,r),e.child;case 6:return t===null&&ha(e),null;case 13:return Fh(t,e,r);case 4:return wl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Kr(e,null,n,r):ve(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ke(n,i),Ju(t,e,n,i,r);case 7:return ve(t,e,e.pendingProps,r),e.child;case 8:return ve(t,e,e.pendingProps.children,r),e.child;case 12:return ve(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,z(cs,n._currentValue),n._currentValue=o,s!==null)if(Xe(s.value,o)){if(s.children===i.children&&!Ce.current){e=vt(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=ht(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),fa(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(b(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),fa(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ve(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Br(e,r),i=Fe(i),n=n(i),e.flags|=1,ve(t,e,n,r),e.child;case 14:return n=e.type,i=Ke(n,e.pendingProps),i=Ke(n.type,i),Zu(t,e,n,i,r);case 15:return Uh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ke(n,i),Wi(t,e),e.tag=1,be(n)?(t=!0,as(e)):t=!1,Br(e,r),Ah(e,n,i),ma(e,n,i,r),ya(null,e,n,!0,t,r);case 19:return zh(t,e,r);case 22:return Dh(t,e,r)}throw Error(b(156,e.tag))};function sf(t,e){return Od(t,e)}function Yg(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(t,e,r,n){return new Yg(t,e,r,n)}function Al(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xg(t){if(typeof t=="function")return Al(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xa)return 11;if(t===el)return 14}return 2}function Dt(t,e){var r=t.alternate;return r===null?(r=Me(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Gi(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Al(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cr:return lr(r.children,i,s,e);case Ya:o=8,i|=8;break;case Mo:return t=Me(12,r,e,i|2),t.elementType=Mo,t.lanes=s,t;case Bo:return t=Me(13,r,e,i),t.elementType=Bo,t.lanes=s,t;case Fo:return t=Me(19,r,e,i),t.elementType=Fo,t.lanes=s,t;case pd:return Ms(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hd:o=10;break e;case fd:o=9;break e;case Xa:o=11;break e;case el:o=14;break e;case xt:o=16,n=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=Me(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function lr(t,e,r,n){return t=Me(7,t,n,e),t.lanes=r,t}function Ms(t,e,r,n){return t=Me(22,t,n,e),t.elementType=pd,t.lanes=r,t.stateNode={isHidden:!1},t}function Eo(t,e,r){return t=Me(6,t,null,e),t.lanes=r,t}function xo(t,e,r){return e=Me(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function e0(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Il(t,e,r,n,i,s,o,a,l){return t=new e0(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Me(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yl(s),t}function t0(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function of(t){if(!t)return Bt;t=t._reactInternals;e:{if(mr(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var r=t.type;if(be(r))return sh(t,r,e)}return e}function af(t,e,r,n,i,s,o,a,l){return t=Il(r,n,!0,t,i,s,o,a,l),t.context=of(null),r=t.current,n=we(),i=Ut(r),s=ht(n,i),s.callback=e??null,It(r,s,i),t.current.lanes=i,ti(t,i,n),je(t,n),t}function Bs(t,e,r,n){var i=e.current,s=we(),o=Ut(i);return r=of(r),e.context===null?e.context=r:e.pendingContext=r,e=ht(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=It(i,e,o),t!==null&&(Ye(t,i,o,s),zi(t,i,o)),o}function _s(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function $l(t,e){lc(t,e),(t=t.alternate)&&lc(t,e)}function r0(){return null}var lf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ul(t){this._internalRoot=t}Fs.prototype.render=Ul.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));Bs(t,e,null,null)};Fs.prototype.unmount=Ul.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fr(function(){Bs(null,t,null,null)}),e[mt]=null}};function Fs(t){this._internalRoot=t}Fs.prototype.unstable_scheduleHydration=function(t){if(t){var e=Dd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<bt.length&&e!==0&&e<bt[r].priority;r++);bt.splice(r,0,t),r===0&&Bd(t)}};function Dl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uc(){}function n0(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=_s(o);s.call(u)}}var o=af(e,n,t,0,null,!1,!1,"",uc);return t._reactRootContainer=o,t[mt]=o.current,Fn(t.nodeType===8?t.parentNode:t),fr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=_s(l);a.call(u)}}var l=Il(t,0,!1,null,null,!1,!1,"",uc);return t._reactRootContainer=l,t[mt]=l.current,Fn(t.nodeType===8?t.parentNode:t),fr(function(){Bs(e,l,r,n)}),l}function Vs(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=_s(o);a.call(l)}}Bs(e,o,t,i)}else o=n0(r,e,t,i,n);return _s(o)}$d=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=wn(e.pendingLanes);r!==0&&(nl(e,r|1),je(e,X()),!(D&6)&&(Jr=X()+500,Vt()))}break;case 13:fr(function(){var n=gt(t,1);if(n!==null){var i=we();Ye(n,t,1,i)}}),$l(t,1)}};il=function(t){if(t.tag===13){var e=gt(t,134217728);if(e!==null){var r=we();Ye(e,t,134217728,r)}$l(t,134217728)}};Ud=function(t){if(t.tag===13){var e=Ut(t),r=gt(t,e);if(r!==null){var n=we();Ye(r,t,e,n)}$l(t,e)}};Dd=function(){return M};Md=function(t,e){var r=M;try{return M=t,e()}finally{M=r}};Qo=function(t,e,r){switch(e){case"input":if(Ho(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ns(n);if(!i)throw Error(b(90));gd(n),Ho(n,i)}}}break;case"textarea":yd(t,r);break;case"select":e=r.value,e!=null&&$r(t,!!r.multiple,e,!1)}};Cd=Ol;bd=fr;var i0={usingClientEntryPoint:!1,Events:[ni,Tr,Ns,Ed,xd,Ol]},mn={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s0={bundleType:mn.bundleType,version:mn.version,rendererPackageName:mn.rendererPackageName,rendererConfig:mn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Td(t),t===null?null:t.stateNode},findFiberByHostInstance:mn.findFiberByHostInstance||r0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bi.isDisabled&&bi.supportsFiber)try{Ts=bi.inject(s0),st=bi}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i0;Ie.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dl(e))throw Error(b(200));return t0(t,e,null,r)};Ie.createRoot=function(t,e){if(!Dl(t))throw Error(b(299));var r=!1,n="",i=lf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Il(t,1,!1,null,null,r,!1,n,i),t[mt]=e.current,Fn(t.nodeType===8?t.parentNode:t),new Ul(e)};Ie.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=Td(e),t=t===null?null:t.stateNode,t};Ie.flushSync=function(t){return fr(t)};Ie.hydrate=function(t,e,r){if(!zs(e))throw Error(b(200));return Vs(null,t,e,!0,r)};Ie.hydrateRoot=function(t,e,r){if(!Dl(t))throw Error(b(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=lf;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=af(e,null,t,1,r??null,i,!1,s,o),t[mt]=e.current,Fn(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Fs(e)};Ie.render=function(t,e,r){if(!zs(e))throw Error(b(200));return Vs(null,t,e,!1,r)};Ie.unmountComponentAtNode=function(t){if(!zs(t))throw Error(b(40));return t._reactRootContainer?(fr(function(){Vs(null,null,t,!1,function(){t._reactRootContainer=null,t[mt]=null})}),!0):!1};Ie.unstable_batchedUpdates=Ol;Ie.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!zs(r))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return Vs(t,e,r,!1,n)};Ie.version="18.3.1-next-f1338f8080-20240426";function uf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uf)}catch(t){console.error(t)}}uf(),ld.exports=Ie;var o0=ld.exports,cc=o0;Uo.createRoot=cc.createRoot,Uo.hydrateRoot=cc.hydrateRoot;const a0="modulepreload",l0=function(t){return"/Bean_WebApp/"+t},dc={},u0=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=l0(s),s in dc)return;dc[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let c=i.length-1;c>=0;c--){const h=i[c];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":a0,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var hc="popstate";function c0(t={}){function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return Ra("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Zn(i)}return h0(e,r,null,t)}function K(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ve(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d0(){return Math.random().toString(36).substring(2,10)}function fc(t,e){return{usr:t.state,key:t.key,idx:e}}function Ra(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?en(e):e,state:r,key:e&&e.key||n||d0()}}function Zn({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function en(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function h0(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function h(){a="POP";let _=c(),g=_==null?null:_-u;u=_,l&&l({action:a,location:w.location,delta:g})}function d(_,g){a="PUSH";let f=Ra(w.location,_,g);r&&r(f,_),u=c()+1;let p=fc(f,u),S=w.createHref(f);try{o.pushState(p,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}s&&l&&l({action:a,location:w.location,delta:1})}function m(_,g){a="REPLACE";let f=Ra(w.location,_,g);r&&r(f,_),u=c();let p=fc(f,u),S=w.createHref(f);o.replaceState(p,"",S),s&&l&&l({action:a,location:w.location,delta:0})}function y(_){return f0(_)}let w={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hc,h),l=_,()=>{i.removeEventListener(hc,h),l=null}},createHref(_){return e(i,_)},createURL:y,encodeLocation(_){let g=y(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:m,go(_){return o.go(_)}};return w}function f0(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),K(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Zn(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function cf(t,e,r="/"){return p0(t,e,r,!1)}function p0(t,e,r,n){let i=typeof e=="string"?en(e):e,s=yt(i.pathname||"/",r);if(s==null)return null;let o=df(t);m0(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=b0(s);a=x0(o[l],u,n)}return a}function df(t,e=[],r=[],n="",i=!1){let s=(o,a,l=i,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&l)return;K(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let h=ft([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(K(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),df(o.children,e,d,h,l)),!(o.path==null&&!o.index)&&e.push({path:h,score:k0(h,o.index),routesMeta:d})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of hf(o.path))s(o,a,!0,u)}),e}function hf(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=hf(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function m0(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:E0(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var g0=/^:[\w-]+$/,v0=3,y0=2,w0=1,_0=10,S0=-2,pc=t=>t==="*";function k0(t,e){let r=t.split("/"),n=r.length;return r.some(pc)&&(n+=S0),e&&(n+=y0),r.filter(i=>!pc(i)).reduce((i,s)=>i+(g0.test(s)?v0:s===""?w0:_0),n)}function E0(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function x0(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=Ss({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Ss({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ft([s,h.pathname]),pathnameBase:O0(ft([s,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(s=ft([s,h.pathnameBase]))}return o}function Ss(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=C0(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:h},d)=>{if(c==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return h&&!m?u[c]=void 0:u[c]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function C0(t,e=!1,r=!0){Ve(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function b0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ve(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yt(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var j0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P0=t=>j0.test(t);function T0(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?en(t):t,s;if(r)if(P0(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Ve(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?s=mc(r.substring(1),"/"):s=mc(r,e)}else s=e;return{pathname:s,search:L0(n),hash:N0(i)}}function mc(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Co(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R0(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Ml(t){let e=R0(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Bl(t,e,r,n=!1){let i;typeof t=="string"?i=en(t):(i={...t},K(!i.pathname||!i.pathname.includes("?"),Co("?","pathname","search",i)),K(!i.pathname||!i.pathname.includes("#"),Co("#","pathname","hash",i)),K(!i.search||!i.search.includes("#"),Co("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=T0(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var ft=t=>t.join("/").replace(/\/\/+/g,"/"),O0=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),L0=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N0=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function A0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ff=["POST","PUT","PATCH","DELETE"];new Set(ff);var I0=["GET",...ff];new Set(I0);var tn=k.createContext(null);tn.displayName="DataRouter";var Hs=k.createContext(null);Hs.displayName="DataRouterState";k.createContext(!1);var pf=k.createContext({isTransitioning:!1});pf.displayName="ViewTransition";var $0=k.createContext(new Map);$0.displayName="Fetchers";var U0=k.createContext(null);U0.displayName="Await";var et=k.createContext(null);et.displayName="Navigation";var si=k.createContext(null);si.displayName="Location";var tt=k.createContext({outlet:null,matches:[],isDataRoute:!1});tt.displayName="Route";var Fl=k.createContext(null);Fl.displayName="RouteError";function D0(t,{relative:e}={}){K(rn(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=k.useContext(et),{hash:i,pathname:s,search:o}=oi(t,{relative:e}),a=s;return r!=="/"&&(a=s==="/"?r:ft([r,s])),n.createHref({pathname:a,search:o,hash:i})}function rn(){return k.useContext(si)!=null}function Ht(){return K(rn(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(si).location}var mf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gf(t){k.useContext(et).static||k.useLayoutEffect(t)}function nn(){let{isDataRoute:t}=k.useContext(tt);return t?X0():M0()}function M0(){K(rn(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(tn),{basename:e,navigator:r}=k.useContext(et),{matches:n}=k.useContext(tt),{pathname:i}=Ht(),s=JSON.stringify(Ml(n)),o=k.useRef(!1);return gf(()=>{o.current=!0}),k.useCallback((l,u={})=>{if(Ve(o.current,mf),!o.current)return;if(typeof l=="number"){r.go(l);return}let c=Bl(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ft([e,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[e,r,s,i,t])}var B0=k.createContext(null);function F0(t){let e=k.useContext(tt).outlet;return k.useMemo(()=>e&&k.createElement(B0.Provider,{value:t},e),[e,t])}function oi(t,{relative:e}={}){let{matches:r}=k.useContext(tt),{pathname:n}=Ht(),i=JSON.stringify(Ml(r));return k.useMemo(()=>Bl(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function z0(t,e){return vf(t,e)}function vf(t,e,r,n,i){var f;K(rn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(et),{matches:o}=k.useContext(tt),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",h=a&&a.route;{let p=h&&h.path||"";yf(u,!h||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let d=Ht(),m;if(e){let p=typeof e=="string"?en(e):e;K(c==="/"||((f=p.pathname)==null?void 0:f.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${p.pathname}" was given in the \`location\` prop.`),m=p}else m=d;let y=m.pathname||"/",w=y;if(c!=="/"){let p=c.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(p.length).join("/")}let _=cf(t,{pathname:w});Ve(h||_!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ve(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=q0(_&&_.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:ft([c,s.encodeLocation?s.encodeLocation(p.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:ft([c,s.encodeLocation?s.encodeLocation(p.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathnameBase])})),o,r,n,i);return e&&g?k.createElement(si.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function V0(){let t=Y0(),e=A0(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),r?k.createElement("pre",{style:i},r):null,o)}var H0=k.createElement(V0,null),W0=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement(tt.Provider,{value:this.props.routeContext},k.createElement(Fl.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function K0({routeContext:t,match:e,children:r}){let n=k.useContext(tn);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(tt.Provider,{value:t},r)}function q0(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=r==null?void 0:r.errors;if(o!=null){let c=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);K(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,l=-1;if(r)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=c),h.route.id){let{loaderData:d,errors:m}=r,y=h.route.loader&&!d.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=r&&n?(c,h)=>{var d,m;n(c,{location:r.location,params:((m=(d=r.matches)==null?void 0:d[0])==null?void 0:m.params)??{},errorInfo:h})}:void 0;return s.reduceRight((c,h,d)=>{let m,y=!1,w=null,_=null;r&&(m=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||H0,a&&(l<0&&d===0?(yf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):l===d&&(y=!0,_=h.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,d+1)),f=()=>{let p;return m?p=w:y?p=_:h.route.Component?p=k.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=c,k.createElement(K0,{match:h,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:p})};return r&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?k.createElement(W0,{location:r.location,revalidation:r.revalidation,component:w,error:m,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):f()},null)}function zl(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G0(t){let e=k.useContext(tn);return K(e,zl(t)),e}function J0(t){let e=k.useContext(Hs);return K(e,zl(t)),e}function Z0(t){let e=k.useContext(tt);return K(e,zl(t)),e}function Vl(t){let e=Z0(t),r=e.matches[e.matches.length-1];return K(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Q0(){return Vl("useRouteId")}function Y0(){var n;let t=k.useContext(Fl),e=J0("useRouteError"),r=Vl("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function X0(){let{router:t}=G0("useNavigate"),e=Vl("useNavigate"),r=k.useRef(!1);return gf(()=>{r.current=!0}),k.useCallback(async(i,s={})=>{Ve(r.current,mf),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var gc={};function yf(t,e,r){!e&&!gc[t]&&(gc[t]=!0,Ve(!1,r))}k.memo(ev);function ev({routes:t,future:e,state:r,unstable_onError:n}){return vf(t,void 0,r,n,e)}function ks({to:t,replace:e,state:r,relative:n}){K(rn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=k.useContext(et);Ve(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=k.useContext(tt),{pathname:o}=Ht(),a=nn(),l=Bl(t,Ml(s),o,n==="path"),u=JSON.stringify(l);return k.useEffect(()=>{a(JSON.parse(u),{replace:e,state:r,relative:n})},[a,u,n,e,r]),null}function tv(t){return F0(t.context)}function ke(t){K(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rv({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){K(!rn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=k.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=en(r));let{pathname:l="/",search:u="",hash:c="",state:h=null,key:d="default"}=r,m=k.useMemo(()=>{let y=yt(l,o);return y==null?null:{location:{pathname:y,search:u,hash:c,state:h,key:d},navigationType:n}},[o,l,u,c,h,d,n]);return Ve(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:k.createElement(et.Provider,{value:a},k.createElement(si.Provider,{children:e,value:m}))}function nv({children:t,location:e}){return z0(Oa(t),e)}function Oa(t,e=[]){let r=[];return k.Children.forEach(t,(n,i)=>{if(!k.isValidElement(n))return;let s=[...e,i];if(n.type===k.Fragment){r.push.apply(r,Oa(n.props.children,s));return}K(n.type===ke,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),K(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Oa(n.props.children,s)),r.push(o)}),r}var Ji="get",Zi="application/x-www-form-urlencoded";function Ws(t){return t!=null&&typeof t.tagName=="string"}function iv(t){return Ws(t)&&t.tagName.toLowerCase()==="button"}function sv(t){return Ws(t)&&t.tagName.toLowerCase()==="form"}function ov(t){return Ws(t)&&t.tagName.toLowerCase()==="input"}function av(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lv(t,e){return t.button===0&&(!e||e==="_self")&&!av(t)}var ji=null;function uv(){if(ji===null)try{new FormData(document.createElement("form"),0),ji=!1}catch{ji=!0}return ji}var cv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bo(t){return t!=null&&!cv.has(t)?(Ve(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zi}"`),null):t}function dv(t,e){let r,n,i,s,o;if(sv(t)){let a=t.getAttribute("action");n=a?yt(a,e):null,r=t.getAttribute("method")||Ji,i=bo(t.getAttribute("enctype"))||Zi,s=new FormData(t)}else if(iv(t)||ov(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(n=l?yt(l,e):null,r=t.getAttribute("formmethod")||a.getAttribute("method")||Ji,i=bo(t.getAttribute("formenctype"))||bo(a.getAttribute("enctype"))||Zi,s=new FormData(a,t),!uv()){let{name:u,type:c,value:h}=t;if(c==="image"){let d=u?`${u}.`:"";s.append(`${d}x`,"0"),s.append(`${d}y`,"0")}else u&&s.append(u,h)}}else{if(Ws(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ji,n=null,i=Zi,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hl(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hv(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&yt(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function fv(t,e){if(t.id in e)return e[t.id];try{let r=await u0(()=>import(t.module),[]);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pv(t){return t!=null&&typeof t.page=="string"}function mv(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function gv(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await fv(s,r);return o.links?o.links():[]}return[]}));return _v(n.flat(1).filter(mv).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function vc(t,e,r,n,i,s){let o=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,a=(l,u)=>{var c;return r[u].pathname!==l.pathname||((c=r[u].route.path)==null?void 0:c.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var h;let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function vv(t,e,{includeHydrateFallback:r}={}){return yv(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function yv(t){return[...new Set(t)]}function wv(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function _v(t,e){let r=new Set,n=new Set(e);return t.reduce((i,s)=>{if(e&&!pv(s)&&s.as==="script"&&s.href&&n.has(s.href))return i;let a=JSON.stringify(wv(s));return r.has(a)||(r.add(a),i.push({key:a,link:s})),i},[])}function wf(){let t=k.useContext(tn);return Hl(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Sv(){let t=k.useContext(Hs);return Hl(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wl=k.createContext(void 0);Wl.displayName="FrameworkContext";function _f(){let t=k.useContext(Wl);return Hl(t,"You must render this element inside a <HydratedRouter> element"),t}function kv(t,e){let r=k.useContext(Wl),[n,i]=k.useState(!1),[s,o]=k.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:h}=e,d=k.useRef(null);k.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=g=>{g.forEach(f=>{o(f.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return d.current&&_.observe(d.current),()=>{_.disconnect()}}},[t]),k.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let m=()=>{i(!0)},y=()=>{i(!1),o(!1)};return r?t!=="intent"?[s,d,{}]:[s,d,{onFocus:gn(a,m),onBlur:gn(l,y),onMouseEnter:gn(u,m),onMouseLeave:gn(c,y),onTouchStart:gn(h,m)}]:[!1,d,{}]}function gn(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Ev({page:t,...e}){let{router:r}=wf(),n=k.useMemo(()=>cf(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?k.createElement(Cv,{page:t,matches:n,...e}):null}function xv(t){let{manifest:e,routeModules:r}=_f(),[n,i]=k.useState([]);return k.useEffect(()=>{let s=!1;return gv(t,e,r).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,r]),n}function Cv({page:t,matches:e,...r}){let n=Ht(),{manifest:i,routeModules:s}=_f(),{basename:o}=wf(),{loaderData:a,matches:l}=Sv(),u=k.useMemo(()=>vc(t,e,l,i,n,"data"),[t,e,l,i,n]),c=k.useMemo(()=>vc(t,e,l,i,n,"assets"),[t,e,l,i,n]),h=k.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let y=new Set,w=!1;if(e.forEach(g=>{var p;let f=i.routes[g.route.id];!f||!f.hasLoader||(!u.some(S=>S.route.id===g.route.id)&&g.route.id in a&&((p=s[g.route.id])!=null&&p.shouldRevalidate)||f.hasClientLoader?w=!0:y.add(g.route.id))}),y.size===0)return[];let _=hv(t,o,"data");return w&&y.size>0&&_.searchParams.set("_routes",e.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[_.pathname+_.search]},[o,a,n,i,u,e,t,s]),d=k.useMemo(()=>vv(c,i),[c,i]),m=xv(c);return k.createElement(k.Fragment,null,h.map(y=>k.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),d.map(y=>k.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),m.map(({key:y,link:w})=>k.createElement("link",{key:y,nonce:r.nonce,...w})))}function bv(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Sf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sf&&(window.__reactRouterVersion="7.9.6")}catch{}function jv({basename:t,children:e,window:r}){let n=k.useRef();n.current==null&&(n.current=c0({window:r,v5Compat:!0}));let i=n.current,[s,o]=k.useState({action:i.action,location:i.location}),a=k.useCallback(l=>{k.startTransition(()=>o(l))},[o]);return k.useLayoutEffect(()=>i.listen(a),[i,a]),k.createElement(rv,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var kf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ks=k.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h,...d},m){let{basename:y}=k.useContext(et),w=typeof u=="string"&&kf.test(u),_,g=!1;if(typeof u=="string"&&w&&(_=u,Sf))try{let A=new URL(window.location.href),N=u.startsWith("//")?new URL(A.protocol+u):new URL(u),le=yt(N.pathname,y);N.origin===A.origin&&le!=null?u=le+N.search+N.hash:g=!0}catch{Ve(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let f=D0(u,{relative:i}),[p,S,E]=kv(n,d),x=Rv(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:h});function C(A){e&&e(A),A.defaultPrevented||x(A)}let j=k.createElement("a",{...d,...E,href:_||f,onClick:g||s?e:C,ref:bv(m,S),target:l,"data-discover":!w&&r==="render"?"true":void 0});return p&&!w?k.createElement(k.Fragment,null,j,k.createElement(Ev,{page:f})):j});Ks.displayName="Link";var Ef=k.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},c){let h=oi(o,{relative:u.relative}),d=Ht(),m=k.useContext(Hs),{navigator:y,basename:w}=k.useContext(et),_=m!=null&&Iv(h)&&a===!0,g=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,f=d.pathname,p=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(f=f.toLowerCase(),p=p?p.toLowerCase():null,g=g.toLowerCase()),p&&w&&(p=yt(p,w)||p);const S=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=f===g||!i&&f.startsWith(g)&&f.charAt(S)==="/",x=p!=null&&(p===g||!i&&p.startsWith(g)&&p.charAt(g.length)==="/"),C={isActive:E,isPending:x,isTransitioning:_},j=E?e:void 0,A;typeof n=="function"?A=n(C):A=[n,E?"active":null,x?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(C):s;return k.createElement(Ks,{...u,"aria-current":j,className:A,ref:c,style:N,to:o,viewTransition:a},typeof l=="function"?l(C):l)});Ef.displayName="NavLink";var Pv=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:o=Ji,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:h,...d},m)=>{let y=Nv(),w=Av(a,{relative:u}),_=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&kf.test(a),f=p=>{if(l&&l(p),p.defaultPrevented)return;p.preventDefault();let S=p.nativeEvent.submitter,E=(S==null?void 0:S.getAttribute("formmethod"))||o;y(S||p.currentTarget,{fetcherKey:e,method:E,navigate:r,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:h})};return k.createElement("form",{ref:m,method:_,action:w,onSubmit:n?l:f,...d,"data-discover":!g&&t==="render"?"true":void 0})});Pv.displayName="Form";function Tv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xf(t){let e=k.useContext(tn);return K(e,Tv(t)),e}function Rv(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=nn(),l=Ht(),u=oi(t,{relative:s});return k.useCallback(c=>{if(lv(c,e)){c.preventDefault();let h=r!==void 0?r:Zn(l)===Zn(u);a(t,{replace:h,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,r,n,e,t,i,s,o])}var Ov=0,Lv=()=>`__${String(++Ov)}__`;function Nv(){let{router:t}=xf("useSubmit"),{basename:e}=k.useContext(et),r=Q0();return k.useCallback(async(n,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=dv(n,e);if(i.navigate===!1){let c=i.fetcherKey||Lv();await t.fetch(c,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function Av(t,{relative:e}={}){let{basename:r}=k.useContext(et),n=k.useContext(tt);K(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...oi(t||".",{relative:e})},o=Ht();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let c=a.toString();s.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ft([r,s.pathname])),Zn(s)}function Iv(t,{relative:e}={}){let r=k.useContext(pf);K(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=xf("useViewTransitionState"),i=oi(t,{relative:e});if(!r.isTransitioning)return!1;let s=yt(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=yt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ss(i.pathname,o)!=null||Ss(i.pathname,s)!=null}const $v=t=>v.jsxs("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[v.jsx("rect",{x:"3",y:"4",width:"18",height:"5",rx:"1",stroke:"#ffffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),v.jsx("path",{d:"M5 9H19V18C19 19.1046 18.1046 20 17 20H7C5.89543 20 5 19.1046 5 18V9Z",stroke:"#ffffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),v.jsx("path",{d:"M10 13H14",stroke:"#ffffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]}),Uv=t=>v.jsxs("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[v.jsx("path",{d:"M3 6C3 4.34315 4.34315 3 6 3H14C15.6569 3 17 4.34315 17 6V14C17 15.6569 15.6569 17 14 17H6C4.34315 17 3 15.6569 3 14V6Z",stroke:"#ffffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),v.jsx("path",{d:"M21 7V18C21 19.6569 19.6569 21 18 21H7",stroke:"#ffffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),v.jsx("path",{d:"M10 10V7M10 10V13M10 10H13M10 10H7",stroke:"#ffffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]}),Dv=t=>v.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:v.jsx("path",{d:"M3 19V18C3 15.7909 4.79086 14 7 14H11C13.2091 14 15 15.7909 15 18V19M15 11C16.6569 11 18 9.65685 18 8C18 6.34315 16.6569 5 15 5M21 19V18C21 15.7909 19.2091 14 17 14H16.5M12 8C12 9.65685 10.6569 11 9 11C7.34315 11 6 9.65685 6 8C6 6.34315 7.34315 5 9 5C10.6569 5 12 6.34315 12 8Z",stroke:"#ffffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})});var La=function(t,e){return La=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},La(t,e)};function Cf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");La(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Es=function(){return Es=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Es.apply(this,arguments)};function sn(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function bf(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function jf(t,e){return function(r,n){e(r,n,t)}}function Pf(t,e,r,n,i,s){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,d=!1,m=r.length-1;m>=0;m--){var y={};for(var w in n)y[w]=w==="access"?{}:n[w];for(var w in n.access)y.access[w]=n.access[w];y.addInitializer=function(g){if(d)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(g||null))};var _=(0,r[m])(a==="accessor"?{get:c.get,set:c.set}:c[l],y);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(h=o(_.get))&&(c.get=h),(h=o(_.set))&&(c.set=h),(h=o(_.init))&&i.unshift(h)}else(h=o(_))&&(a==="field"?i.unshift(h):c[l]=h)}u&&Object.defineProperty(u,n.name,c),d=!0}function Tf(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function Rf(t){return typeof t=="symbol"?t:"".concat(t)}function Of(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Lf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function R(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function Nf(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var qs=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Af(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&qs(e,t,r)}function xs(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kl(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function If(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Kl(arguments[e]));return t}function $f(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Uf(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Zr(t){return this instanceof Zr?(this.v=t,this):new Zr(t)}function Df(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(y){return Promise.resolve(y).then(m,h)}}function a(m,y){n[m]&&(i[m]=function(w){return new Promise(function(_,g){s.push([m,w,_,g])>1||l(m,w)})},y&&(i[m]=y(i[m])))}function l(m,y){try{u(n[m](y))}catch(w){d(s[0][3],w)}}function u(m){m.value instanceof Zr?Promise.resolve(m.value.v).then(c,h):d(s[0][2],m)}function c(m){l("next",m)}function h(m){l("throw",m)}function d(m,y){m(y),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Mf(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Zr(t[i](o)),done:!1}:s?s(o):o}:s}}function Bf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof xs=="function"?xs(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function Ff(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Mv=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Na=function(t){return Na=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Na(t)};function zf(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Na(t),n=0;n<r.length;n++)r[n]!=="default"&&qs(e,t,r[n]);return Mv(e,t),e}function Vf(t){return t&&t.__esModule?t:{default:t}}function Hf(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Wf(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function Kf(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function qf(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Bv=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Gf(t){function e(s){t.error=t.hasError?new Bv(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function Jf(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,o){return n?e?".jsx":".js":i&&(!s||!o)?r:i+s+"."+o.toLowerCase()+"js"}):t}const Fv={__extends:Cf,__assign:Es,__rest:sn,__decorate:bf,__param:jf,__esDecorate:Pf,__runInitializers:Tf,__propKey:Rf,__setFunctionName:Of,__metadata:Lf,__awaiter:R,__generator:Nf,__createBinding:qs,__exportStar:Af,__values:xs,__read:Kl,__spread:If,__spreadArrays:$f,__spreadArray:Uf,__await:Zr,__asyncGenerator:Df,__asyncDelegator:Mf,__asyncValues:Bf,__makeTemplateObject:Ff,__importStar:zf,__importDefault:Vf,__classPrivateFieldGet:Hf,__classPrivateFieldSet:Wf,__classPrivateFieldIn:Kf,__addDisposableResource:qf,__disposeResources:Gf,__rewriteRelativeImportExtension:Jf},zv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:qf,get __assign(){return Es},__asyncDelegator:Mf,__asyncGenerator:Df,__asyncValues:Bf,__await:Zr,__awaiter:R,__classPrivateFieldGet:Hf,__classPrivateFieldIn:Kf,__classPrivateFieldSet:Wf,__createBinding:qs,__decorate:bf,__disposeResources:Gf,__esDecorate:Pf,__exportStar:Af,__extends:Cf,__generator:Nf,__importDefault:Vf,__importStar:zf,__makeTemplateObject:Ff,__metadata:Lf,__param:jf,__propKey:Rf,__read:Kl,__rest:sn,__rewriteRelativeImportExtension:Jf,__runInitializers:Tf,__setFunctionName:Of,__spread:If,__spreadArray:Uf,__spreadArrays:$f,__values:xs,default:Fv},Symbol.toStringTag,{value:"Module"})),Vv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class ql extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Hv extends ql{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class yc extends ql{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wc extends ql{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Aa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Aa||(Aa={}));class Wv{constructor(e,{headers:r={},customFetch:n,region:i=Aa.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Vv(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return R(this,arguments,void 0,function*(r,n={}){var i;let s,o;try{const{headers:a,method:l,body:u,signal:c,timeout:h}=n;let d={},{region:m}=n;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(d["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(d["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(d["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let _=c;h&&(o=new AbortController,s=setTimeout(()=>o.abort(),h),c?(_=o.signal,c.addEventListener("abort",()=>o.abort())):_=o.signal);const g=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:w,signal:_}).catch(E=>{throw new Hv(E)}),f=g.headers.get("x-relay-error");if(f&&f==="true")throw new yc(g);if(!g.ok)throw new wc(g);let p=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return p==="application/json"?S=yield g.json():p==="application/octet-stream"||p==="application/pdf"?S=yield g.blob():p==="text/event-stream"?S=g:p==="multipart/form-data"?S=yield g.formData():S=yield g.text(),{data:S,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof wc||a instanceof yc?a.context:void 0}}finally{s&&clearTimeout(s)}})}}var ye={};const on=Np(zv);var Pi={},Ti={},Ri={},Oi={},Li={},Ni={},_c;function Zf(){if(_c)return Ni;_c=1,Object.defineProperty(Ni,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ni.default=t,Ni}var Sc;function Qf(){if(Sc)return Li;Sc=1,Object.defineProperty(Li,"__esModule",{value:!0});const e=on.__importDefault(Zf());class r{constructor(i){var s,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,h,d;let m=null,y=null,w=null,_=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const E=await l.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=E:y=JSON.parse(E))}const p=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),S=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&S&&S.length>1&&(w=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,_=406,g="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const p=await l.text();try{m=JSON.parse(p),Array.isArray(m)&&l.status===404&&(y=[],m=null,_=200,g="OK")}catch{l.status===404&&p===""?(_=204,g="No Content"):m={message:p}}if(m&&this.isMaybeSingle&&(!((d=m==null?void 0:m.details)===null||d===void 0)&&d.includes("0 rows"))&&(m=null,_=200,g="OK"),m&&this.shouldThrowOnError)throw new e.default(m)}return{error:m,data:y,count:w,status:_,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,c,h,d,m,y;let w="";const _=l==null?void 0:l.cause;if(_){const g=(u=_==null?void 0:_.message)!==null&&u!==void 0?u:"",f=(c=_==null?void 0:_.code)!==null&&c!==void 0?c:"";w=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,w+=`

Caused by: ${(d=_==null?void 0:_.name)!==null&&d!==void 0?d:"Error"}: ${g}`,f&&(w+=` (${f})`),_!=null&&_.stack&&(w+=`
${_.stack}`)}else w=(m=l==null?void 0:l.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(y=l==null?void 0:l.name)!==null&&y!==void 0?y:"FetchError"}: ${l==null?void 0:l.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(i,s)}returns(){return this}overrideTypes(){return this}}return Li.default=r,Li}var kc;function Yf(){if(kc)return Oi;kc=1,Object.defineProperty(Oi,"__esModule",{value:!0});const e=on.__importDefault(Qf());class r extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${d}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Oi.default=r,Oi}var Ec;function Gl(){if(Ec)return Ri;Ec=1,Object.defineProperty(Ri,"__esModule",{value:!0});const e=on.__importDefault(Yf()),r=new RegExp("[,()]");class n extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}regexMatch(s,o){return this.url.searchParams.append(s,`match.${o}`),this}regexIMatch(s,o){return this.url.searchParams.append(s,`imatch.${o}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}isDistinct(s,o){return this.url.searchParams.append(s,`isdistinct.${o}`),this}in(s,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${u}fts${c}.${o}`),this}match(s){return Object.entries(s).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(s,o,a){return this.url.searchParams.append(s,`not.${o}.${a}`),this}or(s,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,o,a){return this.url.searchParams.append(s,`${o}.${a}`),this}}return Ri.default=n,Ri}var xc;function Xf(){if(xc)return Ti;xc=1,Object.defineProperty(Ti,"__esModule",{value:!0});const e=on.__importDefault(Gl());class r{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=a}select(i,s){const{head:o=!1,count:a}=s??{},l=o?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var a;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(h.length>0){const d=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var o;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Ti.default=r,Ti}var Cc;function Kv(){if(Cc)return Pi;Cc=1,Object.defineProperty(Pi,"__esModule",{value:!0});const t=on,e=t.__importDefault(Xf()),r=t.__importDefault(Gl());class n{constructor(s,{headers:o={},schema:a,fetch:l}={}){this.url=s,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let h;const d=new URL(`${this.url}/rpc/${s}`);let m;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{d.searchParams.append(w,_)})):(h="POST",m=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:h,url:d,headers:y,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Pi.default=n,Pi}Object.defineProperty(ye,"__esModule",{value:!0});var ep=ye.PostgrestError=cp=ye.PostgrestBuilder=lp=ye.PostgrestTransformBuilder=op=ye.PostgrestFilterBuilder=ip=ye.PostgrestQueryBuilder=rp=ye.PostgrestClient=void 0;const an=on,tp=an.__importDefault(Kv());var rp=ye.PostgrestClient=tp.default;const np=an.__importDefault(Xf());var ip=ye.PostgrestQueryBuilder=np.default;const sp=an.__importDefault(Gl());var op=ye.PostgrestFilterBuilder=sp.default;const ap=an.__importDefault(Yf());var lp=ye.PostgrestTransformBuilder=ap.default;const up=an.__importDefault(Qf());var cp=ye.PostgrestBuilder=up.default;const dp=an.__importDefault(Zf());ep=ye.PostgrestError=dp.default;var hp=ye.default={PostgrestClient:tp.default,PostgrestQueryBuilder:np.default,PostgrestFilterBuilder:sp.default,PostgrestTransformBuilder:ap.default,PostgrestBuilder:up.default,PostgrestError:dp.default};const qv=Op({__proto__:null,get PostgrestBuilder(){return cp},get PostgrestClient(){return rp},get PostgrestError(){return ep},get PostgrestFilterBuilder(){return op},get PostgrestQueryBuilder(){return ip},get PostgrestTransformBuilder(){return lp},default:hp},[ye]),{PostgrestClient:Gv,PostgrestQueryBuilder:kw,PostgrestFilterBuilder:Ew,PostgrestTransformBuilder:xw,PostgrestBuilder:Cw,PostgrestError:bw}=hp||qv;class Jv{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Zv="2.84.0",Qv=`realtime-js/${Zv}`,fp="1.0.0",Yv="2.0.0",bc=fp,Ia=1e4,Xv=1e3,ey=100;var er;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(er||(er={}));var re;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(re||(re={}));var Je;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Je||(Je={}));var $a;(function(t){t.websocket="websocket"})($a||($a={}));var tr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(tr||(tr={}));class ty{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n,i,s;const o=e.topic,a=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",u=e.payload.event,c=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length,d=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(d),y=0;m.setUint8(y++,this.KINDS.userBroadcastPush),m.setUint8(y++,l.length),m.setUint8(y++,a.length),m.setUint8(y++,o.length),m.setUint8(y++,u.length),m.setUint8(y++,this.BINARY_ENCODING),Array.from(l,_=>m.setUint8(y++,_.charCodeAt(0))),Array.from(a,_=>m.setUint8(y++,_.charCodeAt(0))),Array.from(o,_=>m.setUint8(y++,_.charCodeAt(0))),Array.from(u,_=>m.setUint8(y++,_.charCodeAt(0)));var w=new Uint8Array(d.byteLength+c.byteLength);return w.set(new Uint8Array(d),0),w.set(new Uint8Array(c),d.byteLength),w.buffer}_encodeJsonUserBroadcastPush(e){var r,n,i,s;const o=e.topic,a=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",u=e.payload.event,c=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length,y=new ArrayBuffer(this.HEADER_LENGTH+m);let w=new DataView(y),_=0;w.setUint8(_++,this.KINDS.userBroadcastPush),w.setUint8(_++,l.length),w.setUint8(_++,a.length),w.setUint8(_++,o.length),w.setUint8(_++,u.length),w.setUint8(_++,this.JSON_ENCODING),Array.from(l,f=>w.setUint8(_++,f.charCodeAt(0))),Array.from(a,f=>w.setUint8(_++,f.charCodeAt(0))),Array.from(o,f=>w.setUint8(_++,f.charCodeAt(0))),Array.from(u,f=>w.setUint8(_++,f.charCodeAt(0)));var g=new Uint8Array(y.byteLength+d.byteLength);return g.set(new Uint8Array(y),0),g.set(new Uint8Array(d),y.byteLength),g.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,o,a,l]=n;return r({join_ref:i,ref:s,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+i));l=l+i;const c=n.decode(e.slice(l,l+s));l=l+s;const h=n.decode(e.slice(l,l+o));l=l+o;const d=e.slice(l,e.byteLength),m=a===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,y={type:this.BROADCAST_EVENT,event:c,payload:m};return o>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class pp{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(B||(B={}));const jc=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=ry(o,t,e,i),s),{}):{}},ry=(t,e,r,n)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=r[t];return s&&!n.includes(s)?mp(s,o):Ua(o)},mp=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return oy(e,r)}switch(t){case B.bool:return ny(e);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return iy(e);case B.json:case B.jsonb:return sy(e);case B.timestamp:return ay(e);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return Ua(e);default:return Ua(e)}},Ua=t=>t,ny=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},iy=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},sy=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},oy=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>mp(e,a))}return t},ay=t=>typeof t=="string"?t.replace(" ","T"):t,gp=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class jo{constructor(e,r,n={},i=Ia){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pc||(Pc={}));class On{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=On.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=On.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=On.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=s[u];if(h){const d=c.map(_=>_.presence_ref),m=h.map(_=>_.presence_ref),y=c.filter(_=>m.indexOf(_.presence_ref)<0),w=h.filter(_=>d.indexOf(_.presence_ref)<0);y.length>0&&(a[u]=y),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(m=>m.presence_ref),d=c.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...d)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Tc||(Tc={}));var Ln;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ln||(Ln={}));var lt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(lt||(lt={}));class Jl{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new jo(this,Je.join,this.params,this.timeout),this.rejoinTimer=new pp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=re.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new On(this),this.broadcastEndpointURL=gp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==re.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Ln.PRESENCE]&&this.bindings[Ln.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(lt.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(lt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){e==null||e(lt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,g=[];for(let f=0;f<_;f++){const p=w[f],{filter:{event:S,schema:E,table:x,filter:C}}=p,j=m&&m[f];if(j&&j.event===S&&j.schema===E&&j.table===x&&j.filter===C)g.push(Object.assign(Object.assign({},p),{id:j.id}));else{this.unsubscribe(),this.state=re.errored,e==null||e(lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(lt.SUBSCRIBED);return}}).receive("error",m=>{this.state=re.errored,e==null||e(lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===re.joined&&e===Ln.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=re.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new jo(this,Je.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=re.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new jo(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ey){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Je;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,r,n);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var y,w,_;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(w=m.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(m=>m.callback(d,n)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var y,w,_,g,f,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,E=(y=m.filter)===null||y===void 0?void 0:y.event;return S&&((w=r.ids)===null||w===void 0?void 0:w.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const S=(f=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return S==="*"||S===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof d=="object"&&"ids"in d){const y=d.data,{schema:w,table:_,commit_timestamp:g,type:f,errors:p}=y;d=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(y))}m.callback(d,n)})}_isClosed(){return this.state===re.closed}_isJoined(){return this.state===re.joined}_isJoining(){return this.state===re.joining}_isLeaving(){return this.state===re.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Jl.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Je.close,{},e)}_onError(e){this._on(Je.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=re.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=jc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=jc(e.columns,e.old_record)),r}}const Po=()=>{},Ai={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ly=[1e3,2e3,5e3,1e4],uy=1e4,cy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dy{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ia,this.transport=null,this.heartbeatIntervalMs=Ai.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Po,this.ref=0,this.reconnectTimer=null,this.vsn=bc,this.logger=Po,this.conn=null,this.sendBuffer=[],this.serializer=new ty,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${$a.websocket}`,this.httpEndpoint=gp(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case er.connecting:return tr.Connecting;case er.open:return tr.Open;case er.closing:return tr.Closing;default:return tr.Closed}}isConnected(){return this.connectionState()===tr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Jl(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Xv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ai.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:o}=r,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===er.open||this.conn.readyState===er.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Je.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([cy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Qv};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Je.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new pp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ai.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,o,a,l,u,c,h,d,m;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ia,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Ai.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Po,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:bc,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>ly[y-1]||uy,this.vsn){case fp:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(y,w)=>w(JSON.stringify(y)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(y,w)=>w(JSON.parse(y));break;case Yv:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Zl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function q(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class hy extends Zl{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Da extends Zl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Ql=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),fy=()=>Response,Ma=t=>{if(Array.isArray(t))return t.map(r=>Ma(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Ma(n)}),e},py=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},To=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},my=(t,e,r)=>R(void 0,void 0,void 0,function*(){const n=yield fy();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new hy(To(i),s,o))}).catch(i=>{e(new Da(To(i),i))}):e(new Da(To(t),t))}),gy=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(py(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function ai(t,e,r,n,i,s){return R(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,gy(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>my(l,a,n))})})}function Qn(t,e,r,n){return R(this,void 0,void 0,function*(){return ai(t,"GET",e,r,n)})}function qe(t,e,r,n,i){return R(this,void 0,void 0,function*(){return ai(t,"POST",e,n,i,r)})}function Ba(t,e,r,n,i){return R(this,void 0,void 0,function*(){return ai(t,"PUT",e,n,i,r)})}function vy(t,e,r,n){return R(this,void 0,void 0,function*(){return ai(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Yl(t,e,r,n,i){return R(this,void 0,void 0,function*(){return ai(t,"DELETE",e,n,i,r)})}class yy{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return R(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(q(e))return{data:null,error:e};throw e}})}}var vp;class wy{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[vp]="BlobDownloadBuilder",this.promise=null}asStream(){return new yy(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return R(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(q(e))return{data:null,error:e};throw e}})}}vp=Symbol.toStringTag;const _y=wy,Sy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ky{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Ql(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return R(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Rc),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),l&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),h=yield(e=="PUT"?Ba:qe)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(q(s))return{data:null,error:s};throw s}})}upload(e,r,n){return R(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return R(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Rc.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield Ba(this.fetch,a.toString(),l,{headers:c});return{data:{path:s,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(q(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return R(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield qe(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Zl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}update(e,r,n){return R(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return R(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(q(i))return{data:null,error:i};throw i}})}copy(e,r,n){return R(this,void 0,void 0,function*(){try{return{data:{path:(yield qe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(q(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return R(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield qe(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(q(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return R(this,void 0,void 0,function*(){try{const i=yield qe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(q(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(e),l=()=>Qn(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new _y(l,this.shouldThrowOnError)}info(e){return R(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Qn(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ma(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}exists(e){return R(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield vy(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n)&&n instanceof Da){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return R(this,void 0,void 0,function*(){try{return{data:yield Yl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}list(e,r,n){return R(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Sy),r),{prefix:e||""});return{data:yield qe(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(q(i))return{data:null,error:i};throw i}})}listV2(e,r){return R(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield qe(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const yp="2.84.0",wp={"X-Client-Info":`storage-js/${yp}`};class Ey{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wp),r),this.fetch=Ql(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return R(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Qn(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}getBucket(e){return R(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}createBucket(e){return R(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield qe(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(q(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return R(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}emptyBucket(e){return R(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}deleteBucket(e){return R(this,void 0,void 0,function*(){try{return{data:yield Yl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class xy{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wp),r),this.fetch=Ql(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return R(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}listBuckets(e){return R(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Qn(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}deleteBucket(e){return R(this,void 0,void 0,function*(){try{return{data:yield Yl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}}const Xl={"X-Client-Info":`storage-js/${yp}`,"Content-Type":"application/json"};class _p extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Re(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Ro extends _p{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cy extends _p{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Oc;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Oc||(Oc={}));const eu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),by=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Lc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jy=(t,e,r)=>R(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new Ro(Lc(o),i,a))}).catch(()=>{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new Ro(a,i,o))});else{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new Ro(a,i,o))}}else e(new Cy(Lc(t),t))}),Py=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(by(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function Ty(t,e,r,n,i,s){return R(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Py(e,n,i,s)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>jy(l,a,n))})})}function Oe(t,e,r,n,i){return R(this,void 0,void 0,function*(){return Ty(t,"POST",e,n,i,r)})}class Ry{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xl),r),this.fetch=eu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return R(this,void 0,void 0,function*(){try{return{data:(yield Oe(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}getIndex(e,r){return R(this,void 0,void 0,function*(){try{return{data:yield Oe(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}listIndexes(e){return R(this,void 0,void 0,function*(){try{return{data:yield Oe(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return R(this,void 0,void 0,function*(){try{return{data:(yield Oe(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}}class Oy{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xl),r),this.fetch=eu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return R(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Oe(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}getVectors(e){return R(this,void 0,void 0,function*(){try{return{data:yield Oe(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}listVectors(e){return R(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Oe(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}queryVectors(e){return R(this,void 0,void 0,function*(){try{return{data:yield Oe(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}deleteVectors(e){return R(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Oe(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}}class Ly{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xl),r),this.fetch=eu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return R(this,void 0,void 0,function*(){try{return{data:(yield Oe(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}getBucket(e){return R(this,void 0,void 0,function*(){try{return{data:yield Oe(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}listBuckets(){return R(this,arguments,void 0,function*(e={}){try{return{data:yield Oe(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}deleteBucket(e){return R(this,void 0,void 0,function*(){try{return{data:(yield Oe(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}}class Ny extends Ly{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Ay(this.url,this.headers,e,this.fetch)}}class Ay extends Ry{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return R(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return R(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return R(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return R(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Iy(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Iy extends Oy{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return R(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return R(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return R(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return R(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return R(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class $y extends Ey{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new ky(this.url,this.headers,e,this.fetch)}get vectors(){return new Ny(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new xy(this.url+"/iceberg",this.headers,this.fetch)}}const Uy="2.84.0";let Sn="";typeof Deno<"u"?Sn="deno":typeof document<"u"?Sn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sn="react-native":Sn="node";const Dy={"X-Client-Info":`supabase-js-${Sn}/${Uy}`},My={headers:Dy},By={schema:"public"},Fy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zy={},Vy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Hy=()=>Headers,Wy=(t,e,r)=>{const n=Vy(r),i=Hy();return async(s,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:u}))}};function Ky(t){return t.endsWith("/")?t:t+"/"}function qy(t,e){var r,n;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,d={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function Gy(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ky(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Sp="2.84.0",kr=30*1e3,Fa=3,Oo=Fa*kr,Jy="http://localhost:9999",Zy="supabase.auth.token",Qy={"X-Client-Info":`gotrue-js/${Sp}`},za="X-Supabase-Api-Version",kp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xy=10*60*1e3;class Yn extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function O(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class e1 extends Yn{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function t1(t){return O(t)&&t.name==="AuthApiError"}class rr extends Yn{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Wt extends Yn{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Pe extends Wt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function r1(t){return O(t)&&t.name==="AuthSessionMissingError"}class vr extends Wt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ii extends Wt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $i extends Wt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function n1(t){return O(t)&&t.name==="AuthImplicitGrantRedirectError"}class Nc extends Wt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Va extends Wt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Lo(t){return O(t)&&t.name==="AuthRetryableFetchError"}class Ac extends Wt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ha extends Wt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ic=` 	
\r=`.split(""),i1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ic.length;e+=1)t[Ic[e].charCodeAt(0)]=-2;for(let e=0;e<Cs.length;e+=1)t[Cs[e].charCodeAt(0)]=e;return t})();function $c(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Cs[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Cs[n]),e.queuedBits-=6}}function Ep(t,e,r){const n=i1[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Uc(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{a1(o,n,r)};for(let o=0;o<t.length;o+=1)Ep(t.charCodeAt(o),i,s);return e.join("")}function s1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function o1(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}s1(n,e)}}function a1(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function zr(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Ep(t.charCodeAt(i),r,n);return new Uint8Array(e)}function l1(t){const e=[];return o1(t,r=>e.push(r)),new Uint8Array(e)}function or(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>$c(i,r,n)),$c(null,r,n),e.join("")}function u1(t){return Math.round(Date.now()/1e3)+t}function c1(){return Symbol("auth-callback")}const ue=()=>typeof window<"u"&&typeof document<"u",Jt={tested:!1,writable:!1},xp=()=>{if(!ue())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jt.tested)return Jt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jt.tested=!0,Jt.writable=!0}catch{Jt.tested=!0,Jt.writable=!1}return Jt.writable};function d1(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Cp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),h1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Er=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Zt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Et=async(t,e)=>{await t.removeItem(e)};class Gs{constructor(){this.promise=new Gs.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Gs.promiseConstructor=Promise;function No(t){const e=t.split(".");if(e.length!==3)throw new Ha("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Yy.test(e[n]))throw new Ha("JWT not in base64url format");return{header:JSON.parse(Uc(e[0])),payload:JSON.parse(Uc(e[1])),signature:zr(e[2]),raw:{header:e[0],payload:e[1]}}}async function f1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function p1(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function m1(t){return("0"+t.toString(16)).substr(-2)}function g1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,m1).join("")}async function v1(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function y1(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await v1(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yr(t,e,r=!1){const n=g1();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Er(t,`${e}-code-verifier`,i);const s=await y1(n);return[s,n===s?"plain":"s256"]}const w1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _1(t){const e=t.headers.get(za);if(!e||!e.match(w1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function S1(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function k1(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const E1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wr(t){if(!E1.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ao(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x1(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function Dc(t){return JSON.parse(JSON.stringify(t))}const Xt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),C1=[502,503,504];async function Mc(t){var e;if(!h1(t))throw new Va(Xt(t),0);if(C1.includes(t.status))throw new Va(Xt(t),t.status);let r;try{r=await t.json()}catch(s){throw new rr(Xt(s),s)}let n;const i=_1(t);if(i&&i.getTime()>=kp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ac(Xt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Pe}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Ac(Xt(r),t.status,r.weak_password.reasons);throw new e1(Xt(r),t.status||500,n)}const b1=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function L(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[za]||(s[za]=kp["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await j1(t,e,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function j1(t,e,r,n,i,s){const o=b1(e,n,i,s);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Va(Xt(l),0)}if(a.ok||await Mc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Mc(l)}}function We(t){var e;let r=null;R1(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=u1(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Bc(t){const e=We(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function P1(t){return{data:t,error:null}}function T1(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=sn(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Fc(t){return t}function R1(t){return t.access_token&&t.refresh_token&&t.expires_in}const Io=["global","local","others"];class O1{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Cp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Io[0]){if(Io.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Io.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=sn(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:T1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(O(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Fc});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(O(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){wr(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){wr(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Pt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){wr(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){wr(e.userId);try{const{data:r,error:n}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(O(r))return{data:null,error:r};throw r}}async _deleteFactor(e){wr(e.userId),wr(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Fc});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(O(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}}function zc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const _r={debug:!!(globalThis&&xp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class L1 extends bp{}async function N1(t,e,r){_r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),_r.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){_r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{_r.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw _r.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new L1(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_r.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function A1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jp(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function I1(t){return parseInt(t,16)}function $1(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function U1(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:d}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=jp(t.address),y=c?`${c}://${n}`:n,w=t.statement?`${t.statement}
`:"",_=`${y} wants you to sign in with your Ethereum account:
${m}

${w}`;let g=`URI: ${h}
Version: ${d}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let f=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);f+=`
- ${p}`}g+=f}return`${_}
${g}`}class ee extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class bs extends ee{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function D1({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ee({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ee({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ee({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ee({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ee({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ee({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ee({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ee({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Pp(o)){if(s.rp.id!==o)return new ee({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new ee({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ee({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function M1({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ee({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ee({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Pp(n)){if(r.rpId!==n)return new ee({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ee({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class B1{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const F1=new B1;function z1(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=sn(t,["challenge","user","excludeCredentials"]),s=zr(e).buffer,o=Object.assign(Object.assign({},r),{id:zr(r.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:zr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function V1(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=sn(t,["challenge","allowCredentials"]),i=zr(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:zr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function H1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:or(new Uint8Array(t.response.attestationObject)),clientDataJSON:or(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function W1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:or(new Uint8Array(i.authenticatorData)),clientDataJSON:or(new Uint8Array(i.clientDataJSON)),signature:or(new Uint8Array(i.signature)),userHandle:i.userHandle?or(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Pp(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Vc(){var t,e;return!!(ue()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function K1(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new bs("Browser returned unexpected credential type",e)}:{data:null,error:new bs("Empty credential response",e)}}catch(e){return{data:null,error:D1({error:e,options:t})}}}async function q1(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new bs("Browser returned unexpected credential type",e)}:{data:null,error:new bs("Empty credential response",e)}}catch(e){return{data:null,error:M1({error:e,options:t})}}}const G1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},J1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function js(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(e(o)){const a=n[s];e(a)?n[s]=js(a,o):n[s]=js(o)}else n[s]=o}return n}function Z1(t,e){return js(G1,t,e||{})}function Q1(t,e){return js(J1,t,e||{})}class Y1{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=i??F1.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Z1(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:c,error:h}=await K1({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}case"request":{const u=Q1(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:c,error:h}=await q1(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}}}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new rr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Yn("rpId is required for WebAuthn authentication")};try{if(!Vc())return{data:null,error:new rr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new rr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Yn("rpId is required for WebAuthn registration")};try{if(!Vc())return{data:null,error:new rr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new rr("Unexpected error in register",o)}}}}A1();const X1={url:Jy,storageKey:Zy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Hc(t,e,r){return await r()}const Sr={};class Xn{get jwks(){var e,r;return(r=(e=Sr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Sr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},X1),e);if(this.storageKey=s.storageKey,this.instanceID=(r=Xn.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Xn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ue()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new O1({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Cp(s.fetch),this.lock=s.lock||Hc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:ue()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=N1:this.lock=Hc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Y1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:xp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=zc(this.memoryStorage)),ue()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Sp}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ue()&&(r=d1(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ue()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),n1(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return O(r)?this._returnResult({error:r}):this._returnResult({error:new rr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:We}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:c,password:h,options:d}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await yr(this.storage,this.storageKey)),s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:m,code_challenge_method:y},xform:We})}else if("phone"in e){const{phone:c,password:h,options:d}=e;s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:We})}else throw new Ii("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:a}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bc})}else if("phone"in e){const{phone:s,password:o,options:a}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bc})}else throw new Ii("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new vr;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,o,a,l,u,c,h,d;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:w,wallet:_,statement:g,options:f}=e;let p;if(ue())if(typeof _=="object")p=_;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")p=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=_}const S=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href),E=await p.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=jp(E[0]);let C=(n=f==null?void 0:f.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const A=await p.request({method:"eth_chainId"});C=I1(A)}const j={domain:S.host,address:x,statement:g,uri:S.href,version:"1",chainId:C,nonce:(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=f==null?void 0:f.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=U1(j),y=await p.request({method:"personal_sign",params:[$1(m),x]})}try{const{data:w,error:_}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:We});if(_)throw _;if(!w||!w.session||!w.user){const g=new vr;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(O(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,i,s,o,a,l,u,c,h,d,m;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:_,wallet:g,statement:f,options:p}=e;let S;if(ue())if(typeof g=="object")S=g;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))S=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=g}const E=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const x=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),f?{statement:f}:null));let C;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")C=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)C=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${E.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=p==null?void 0:p.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const x=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=x}}try{const{data:_,error:g}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:or(w)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:We});if(g)throw g;if(!_||!_.session||!_.user){const f=new vr;return this._returnResult({data:{user:null,session:null},error:f})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:g})}catch(_){if(O(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const r=await Zt(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:We});if(await Et(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new vr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,a=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:We}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new vr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await yr(this.storage,this.storageKey));const{error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Ii("You must provide either an email or phone number.")}catch(a){if(O(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:We});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await yr(this.storage,this.storageKey));const u=await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:P1});return!((s=u.data)===null||s===void 0)&&s.url&&ue()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(O(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Pe;const{error:i}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(O(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await L(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:a}=await L(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Ii("You must provide either an email or phone number and a type")}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Zt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Oo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Zt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ao()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=x1(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pt}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pe}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Pt})})}catch(r){if(O(r))return r1(r)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Pe;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await yr(this.storage,this.storageKey));const{data:u,error:c}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Pt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(O(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pe;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=No(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(O(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Pe;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ue())throw new $i("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $i(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Nc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $i("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nc("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new $i("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const m=d-c;m*1e3<=kr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const y=d-h;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,d,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,d,c);const{data:w,error:_}=await this._getUser(s);if(_)throw _;const g={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(O(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Zt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(t1(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=c1(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await yr(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(O(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:h,error:d}=s;if(d)throw d;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return ue()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(O(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,h=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:We}),{data:d,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new vr}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:m}))}catch(i){if(O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await p1(async i=>(i>0&&await f1(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:We})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Lo(s)&&Date.now()+o-n<kr})}catch(n){if(this._debug(r,"error",n),O(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ue()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Zt(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Zt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Er(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ao()}else if(i&&!i.user&&!i.user){const o=await Zt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Et(this.storage,this.storageKey+"-user"),await Er(this.storage,this.storageKey,i)):i.user=Ao()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Oo;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Oo}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Lo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Pe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Gs;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Pe;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),O(s)){const o={data:null,error:s};return Lo(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Er(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=Dc(i);await Er(this.storage,this.storageKey,s)}else{const i=Dc(r);await Er(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Et(this.storage,this.storageKey),await Et(this.storage,this.storageKey+"-code-verifier"),await Et(this.storage,this.storageKey+"-user"),this.userStorage&&await Et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ue()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),kr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/kr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${kr}ms, refresh threshold is ${Fa} ticks`),i<=Fa&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof bp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ue()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await yr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await L(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?H1(e.webauthn.credential_response):W1(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:z1(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:V1(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=No(n.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await L(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Pe})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Pe});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ue()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Pe});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ue()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await L(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Pe})})}catch(e){if(O(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await L(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Pe})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Xy>i)return n;const{data:s,error:o}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=No(n);r!=null&&r.allowExpired||S1(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const c=k1(i.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,l1(`${a}.${l}`)))throw new Ha("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}}Xn.nextInstanceID={};const ew=Xn;class tw extends ew{constructor(e){super(e)}}class rw{constructor(e,r,n){var i,s,o;this.supabaseUrl=e,this.supabaseKey=r;const a=Gy(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:By,realtime:zy,auth:Object.assign(Object.assign({},Fy),{storageKey:l}),global:My},c=qy(n??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Wy(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Gv(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new $y(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Wv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:c},h,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tw({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:a,lock:l,debug:u,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new dy(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nw=(t,e,r)=>new rw(t,e,r);function iw(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}iw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sw="https://itssjndufdidxanwwcbm.supabase.co",ow="sb_publishable_lXQEalewopxKFgCV-4r-6w_P0VMtIM2",F=nw(sw,ow),Tp=k.createContext(void 0);function aw({children:t}){const[e,r]=k.useState(null),[n,i]=k.useState(null),[s,o]=k.useState(!0);k.useEffect(()=>{(async()=>{var y;const{data:m}=await F.auth.getSession();i(m.session),r(((y=m.session)==null?void 0:y.user)??null),o(!1)})();const{data:d}=F.auth.onAuthStateChange((m,y)=>{i(y),r((y==null?void 0:y.user)??null),o(!1)});return()=>{d.subscription.unsubscribe()}},[]);const a=k.useCallback(async(h,d)=>{const{error:m}=await F.auth.signInWithPassword({email:h,password:d});if(m)throw m},[]),l=k.useCallback(async(h,d)=>{const{error:m}=await F.auth.signUp({email:h,password:d});if(m)throw m},[]),u=k.useCallback(async()=>{const{error:h}=await F.auth.signOut();if(h)throw h},[]),c=k.useMemo(()=>({user:e,session:n,loading:s,signIn:a,signUp:l,signOut:u}),[s,n,a,l,u,e]);return v.jsx(Tp.Provider,{value:c,children:t})}function _t(){const t=k.useContext(Tp);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function lw({isCollapsed:t,items:e,profile:r}){const[n,i]=k.useState(!1),[s,o]=k.useState({displayName:"",avatarUrl:"",emailFallback:""}),[a,l]=k.useState(!r),[u,c]=k.useState(""),h=nn(),{user:d,signOut:m}=_t();k.useEffect(()=>{r&&(o(r),l(!1))},[r]),k.useEffect(()=>{if(r)return;if(!(d!=null&&d.id)){l(!1);return}(async()=>{try{const{data:x}=await F.from("profiles").select("display_name, avatar_url").eq("id",d.id).single();o({displayName:(x==null?void 0:x.display_name)??"",avatarUrl:(x==null?void 0:x.avatar_url)??"",emailFallback:d.email??""})}finally{l(!1)}})();const E=F.channel("profile-menu-updates").on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`id=eq.${d.id}`},x=>{const C=x.new;o(j=>({...j,displayName:C.display_name??j.displayName,avatarUrl:C.avatar_url??j.avatarUrl,emailFallback:d.email??j.emailFallback}))});return()=>{E.unsubscribe()}},[r,d]);const y=k.useMemo(()=>s.displayName||s.emailFallback||"Profile",[s.displayName,s.emailFallback]);k.useEffect(()=>{let S=!0;return(async()=>{if(!s.avatarUrl){c("");return}const{data:x,error:C}=await F.storage.from("avatars").createSignedUrl(s.avatarUrl,60*60*24*7);if(S&&(x!=null&&x.signedUrl)&&!C){c(x.signedUrl);return}const{data:j}=F.storage.from("avatars").getPublicUrl(s.avatarUrl);S&&c(j.publicUrl??"")})(),()=>{S=!1}},[s.avatarUrl]);const w=k.useMemo(()=>(s.displayName||s.emailFallback||"User").split(/\s+/).filter(Boolean).slice(0,2).map(E=>{var x;return(x=E[0])==null?void 0:x.toUpperCase()}).join(""),[s.displayName,s.emailFallback]),_=()=>i(S=>!S),g=S=>{h({profile:"/settings/profile",themes:"/settings/appearance",settings:"/settings"}[S]??"/settings"),i(!1)},f=async()=>{i(!1),await m(),h("/login")},p=v.jsxs("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M15 16.5V19C15 20.1046 14.1046 21 13 21H6C4.89543 21 4 20.1046 4 19V5C4 3.89543 4.89543 3 6 3H13C14.1046 3 15 3.89543 15 5V8.0625",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M11 12H21M21 12L18.5 9.5M21 12L18.5 14.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]});return v.jsxs("div",{className:"profile-menu",children:[v.jsxs("button",{className:"profile-menu__trigger",onClick:_,"aria-haspopup":"menu","aria-expanded":n,children:[v.jsx("div",{className:`profile-menu__avatar ${a?"profile-menu__avatar--loading":""}`,"aria-hidden":!0,children:a?v.jsx("div",{className:"profile-menu__avatar-skeleton"}):u?v.jsx("img",{src:u,alt:"Profile avatar"}):v.jsx("span",{className:"profile-menu__avatar-initials",children:w})}),v.jsx("span",{className:`profile-menu__name ${t?"profile-menu__name--hidden":""}`,title:y,children:a?v.jsx("span",{className:"profile-menu__name-skeleton"}):y})]}),v.jsxs("ul",{className:`profile-menu__dropdown ${n?"profile-menu__dropdown--open":""}`,role:"menu",children:[e.map(S=>v.jsx("li",{role:"menuitem",children:v.jsxs("button",{className:"profile-menu__item",onClick:()=>g(S.id),children:[v.jsx("span",{className:"profile-menu__item-icon","aria-hidden":!0,children:S.icon}),v.jsx("span",{className:"profile-menu__item-label",children:S.title})]})},S.id)),v.jsx("li",{className:"profile-menu__separator","aria-hidden":!0}),v.jsx("li",{role:"menuitem",children:v.jsxs("button",{className:"profile-menu__item profile-menu__item--danger",onClick:f,children:[v.jsx("span",{className:"profile-menu__item-icon","aria-hidden":!0,children:p}),v.jsx("span",{className:"profile-menu__item-label",children:"Log out"})]})})]})]})}function uw({workspaces:t,profileMenuItems:e,isCollapsed:r,activeWorkspaceId:n,onSelectWorkspace:i,onToggleCollapse:s}){const{user:o}=_t(),[a,l]=k.useState({displayName:"",avatarUrl:"",emailFallback:""});k.useEffect(()=>{if(!(o!=null&&o.id))return;(async()=>{const{data:d}=await F.from("profiles").select("display_name, avatar_url, bio, website, social_accounts, timezone_enabled, timezone_value").eq("id",o.id).single();l({displayName:(d==null?void 0:d.display_name)??"",avatarUrl:(d==null?void 0:d.avatar_url)??"",emailFallback:o.email??""})})();const h=F.channel("sidebar-profile-updates").on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`id=eq.${o.id}`},d=>{const m=d.new;l(y=>({...y,displayName:m.display_name??y.displayName,avatarUrl:m.avatar_url??y.avatarUrl,emailFallback:o.email??y.emailFallback}))});return()=>{h.unsubscribe()}},[o]);const u=k.useMemo(()=>({displayName:a.displayName,avatarUrl:a.avatarUrl,emailFallback:a.emailFallback}),[a]);return v.jsxs("aside",{className:`sidebar ${r?"sidebar--collapsed":""}`,children:[v.jsxs("button",{className:"sidebar__toggle",onClick:s,children:[r?"":"",v.jsx("span",{className:`sidebar__toggle-label ${r?"sidebar__toggle-label--hidden":""}`,children:"Collapse"})]}),v.jsx("nav",{className:"workspace-list","aria-label":"Workspaces",children:t.map(c=>{const h=c.id===n;return v.jsxs("button",{className:`workspace-item ${h?"workspace-item--active":""}`,onClick:()=>i(c.id),"aria-pressed":h,children:[v.jsx("span",{className:"workspace-item__icon","aria-hidden":!0,children:c.icon}),v.jsx("span",{className:`workspace-item__title ${r?"workspace-item__title--hidden":""}`,children:c.title})]},c.id)})}),v.jsx("div",{className:"sidebar__spacer","aria-hidden":!0}),v.jsx(lw,{isCollapsed:r,items:e,profile:u})]})}function cw({activeWorkspace:t}){return v.jsxs("main",{className:"workspace-area",children:[v.jsxs("div",{className:"workspace-area__header",children:[v.jsx("p",{className:"workspace-area__eyebrow",children:"Workspace"}),v.jsx("h1",{children:t?t.title:"Select a workspace"})]}),v.jsx("div",{className:"workspace-area__body",children:v.jsx("p",{children:t?"Page content goes here. Swap this section out for your real feature area.":"Choose a workspace from the sidebar to get started."})})]})}const $o=[{id:"my-projects",title:"My Projects",icon:v.jsx($v,{}),source:"workspace"},{id:"new-project",title:"New Project",icon:v.jsx(Uv,{}),source:"workspace"},{id:"playground",title:"Playground",icon:v.jsx(Dv,{}),source:"workspace"}],dw=v.jsx("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M5 20V19C5 16.2386 7.23858 14 10 14H14C16.7614 14 19 16.2386 19 19V20M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z",stroke:"#ffffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})}),hw=v.jsxs("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M8 13.5L10.7817 10.7183M10 16.5L13.2817 13.2183M10.7817 10.7183L17.2506 5.2123C17.4158 5.0717 17.6027 4.95892 17.8041 4.87836L17.8336 4.86658C18.6499 4.54005 19.4599 5.35013 19.1334 6.16645L19.1216 6.19589C19.0411 6.39729 18.9283 6.58424 18.7877 6.74942L13.2817 13.2183M10.7817 10.7183C11.615 10.7911 13.2817 11.393 13.2817 13.2183",stroke:"#ffffffff","stroke-width":"1.8","stroke-linecap":"round","stroke-linejoin":"round"}),v.jsx("path",{d:"M4.4853 17.2881C4.16795 15.5783 5.48027 14 7.2193 14V14C8.75504 14 10 15.245 10 16.7807V17C10 18.6569 8.65685 20 7 20H3.92627C3.6329 20 3.51004 19.6253 3.74646 19.4516L4.55841 18.855C4.67556 18.769 4.73314 18.6235 4.70662 18.4805L4.4853 17.2881Z",stroke:"#ffffffff","stroke-width":"1.8","stroke-linecap":"round","stroke-linejoin":"round"})]}),fw=v.jsxs("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M6.07194 6.26794L6.57194 5.40192L6.07194 6.26794ZM4.70592 6.63397L3.83989 6.13397L3.83989 6.13397L4.70592 6.63397ZM3.70592 8.36602L2.83989 7.86602H2.83989L3.70592 8.36602ZM4.07194 9.73205L3.57194 10.5981H3.57194L4.07194 9.73205ZM4.07194 14.2679L3.57194 13.4019H3.57194L4.07194 14.2679ZM3.70592 15.634L4.57194 15.134H4.57194L3.70592 15.634ZM4.70592 17.366L3.83989 17.866H3.83989L4.70592 17.366ZM6.07194 17.732L6.57194 18.5981L6.07194 17.732ZM17.9284 17.732L17.4283 18.5981L17.4284 18.5981L17.9284 17.732ZM19.2944 17.366L18.4284 16.866L19.2944 17.366ZM20.2944 15.634L21.1604 16.134L20.2944 15.634ZM19.9284 14.2679L19.4284 15.134V15.134L19.9284 14.2679ZM19.9284 9.73205L20.4284 10.5981V10.5981L19.9284 9.73205ZM20.2944 8.36602L19.4284 8.86602L19.4284 8.86602L20.2944 8.36602ZM19.2944 6.63397L18.4284 7.13397L19.2944 6.63397ZM17.9284 6.26794L18.4284 7.13397L17.9284 6.26794ZM14.6514 6.61604L14.2089 7.51283L14.6514 6.61604ZM16.5119 7.08573L17.0119 7.95175L16.5119 7.08573ZM15.336 7.01204L14.7793 7.84277L15.336 7.01204ZM17.9873 11.6035L16.9894 11.6686L17.9873 11.6035ZM18.5118 10.5499L18.0118 9.68388L18.5118 10.5499ZM15.336 16.988L14.7793 16.1572L15.336 16.988ZM16.5119 16.9143L16.0119 17.7803L16.5119 16.9143ZM18.5118 13.4501L18.0118 14.3161L18.5118 13.4501ZM9.34892 17.384L9.79137 16.4872L9.34892 17.384ZM7.48838 16.9143L6.98838 16.0482L7.48838 16.9143ZM8.6643 16.988L8.10763 17.8187L8.6643 16.988ZM14.6514 17.384L15.0938 18.2808L14.6514 17.384ZM5.48852 10.5499L4.98852 11.4159L5.48852 10.5499ZM6.01304 11.6035L5.01516 11.5385L6.01304 11.6035ZM7.48839 7.08573L6.98839 7.95176L7.48839 7.08573ZM11.0001 4V4V2C9.89558 2 9.00015 2.89543 9.00015 4H11.0001ZM11.0001 5.63424V4H9.00015V5.63424H11.0001ZM9.22099 7.84277C9.40312 7.72073 9.59361 7.6104 9.79137 7.51283L8.90647 5.71924C8.62922 5.85603 8.36245 6.01056 8.10764 6.18131L9.22099 7.84277ZM5.57194 7.13397L6.98839 7.95176L7.98839 6.2197L6.57194 5.40192L5.57194 7.13397ZM5.57194 7.13397L6.57194 5.40192C5.61536 4.84963 4.39218 5.17738 3.83989 6.13397L5.57194 7.13397ZM4.57194 8.86602L5.57194 7.13397L3.83989 6.13397L2.83989 7.86602L4.57194 8.86602ZM4.57194 8.86602L4.57194 8.86602L2.83989 7.86602C2.28761 8.82261 2.61536 10.0458 3.57194 10.5981L4.57194 8.86602ZM5.98852 9.68388L4.57194 8.86602L3.57194 10.5981L4.98852 11.4159L5.98852 9.68388ZM7.00015 12C7.00015 11.8885 7.00378 11.778 7.01092 11.6686L5.01516 11.5385C5.0052 11.6912 5.00015 11.8451 5.00015 12H7.00015ZM7.01092 12.3314C7.00378 12.222 7.00015 12.1115 7.00015 12H5.00015C5.00015 12.1549 5.0052 12.3088 5.01516 12.4615L7.01092 12.3314ZM4.57194 15.134L5.98852 14.3161L4.98852 12.5841L3.57194 13.4019L4.57194 15.134ZM4.57194 15.134L4.57194 15.134L3.57194 13.4019C2.61536 13.9542 2.28761 15.1774 2.83989 16.134L4.57194 15.134ZM5.57194 16.866L4.57194 15.134L2.83989 16.134L3.83989 17.866L5.57194 16.866ZM5.57194 16.866L5.57194 16.866L3.83989 17.866C4.39218 18.8226 5.61536 19.1504 6.57194 18.5981L5.57194 16.866ZM6.98838 16.0482L5.57194 16.866L6.57194 18.5981L7.98838 17.7803L6.98838 16.0482ZM9.79137 16.4872C9.59361 16.3896 9.40312 16.2793 9.22098 16.1572L8.10763 17.8187C8.36245 17.9894 8.62922 18.144 8.90647 18.2808L9.79137 16.4872ZM11.0001 20V18.3658H9.00015V20H11.0001ZM11.0001 20H9.00015C9.00015 21.1046 9.89558 22 11.0001 22V20ZM13.0001 20H11.0001V22H13.0001V20ZM13.0001 20V22C14.1047 22 15.0001 21.1046 15.0001 20H13.0001ZM13.0001 18.3658V20H15.0001V18.3658H13.0001ZM14.7793 16.1572C14.5972 16.2793 14.4067 16.3896 14.2089 16.4872L15.0938 18.2808C15.3711 18.144 15.6378 17.9894 15.8927 17.8187L14.7793 16.1572ZM18.4284 16.866L17.0119 16.0482L16.0119 17.7803L17.4283 18.5981L18.4284 16.866ZM18.4284 16.866H18.4283L17.4284 18.5981C18.3849 19.1504 19.6081 18.8226 20.1604 17.866L18.4284 16.866ZM19.4284 15.134L18.4284 16.866L20.1604 17.866L21.1604 16.134L19.4284 15.134ZM19.4284 15.134V15.134L21.1604 16.134C21.7127 15.1774 21.3849 13.9542 20.4284 13.4019L19.4284 15.134ZM18.0118 14.3161L19.4284 15.134L20.4284 13.4019L19.0118 12.5841L18.0118 14.3161ZM17.0001 12C17.0001 12.1115 16.9965 12.222 16.9894 12.3314L18.9851 12.4615C18.9951 12.3088 19.0001 12.1549 19.0001 12H17.0001ZM16.9894 11.6686C16.9965 11.778 17.0001 11.8885 17.0001 12H19.0001C19.0001 11.8451 18.9951 11.6912 18.9851 11.5385L16.9894 11.6686ZM19.4284 8.86602L18.0118 9.68388L19.0118 11.4159L20.4284 10.5981L19.4284 8.86602ZM19.4284 8.86602L19.4284 8.86602L20.4284 10.5981C21.3849 10.0458 21.7127 8.82261 21.1604 7.86602L19.4284 8.86602ZM18.4284 7.13397L19.4284 8.86602L21.1604 7.86602L20.1604 6.13397L18.4284 7.13397ZM18.4284 7.13397V7.13397L20.1604 6.13397C19.6081 5.17738 18.3849 4.84963 17.4284 5.40192L18.4284 7.13397ZM17.0119 7.95175L18.4284 7.13397L17.4284 5.40192L16.0119 6.2197L17.0119 7.95175ZM14.2089 7.51283C14.4067 7.6104 14.5972 7.72072 14.7793 7.84277L15.8927 6.18131C15.6378 6.01056 15.3711 5.85603 15.0938 5.71924L14.2089 7.51283ZM13.0001 4V5.63423H15.0001V4H13.0001ZM13.0001 4H15.0001C15.0001 2.89543 14.1047 2 13.0001 2V4ZM11.0001 4H13.0001V2H11.0001V4ZM15.0938 5.71924C15.0511 5.69815 15.0232 5.67053 15.0094 5.65025C14.9972 5.63248 15.0001 5.62788 15.0001 5.63423H13.0001C13.0001 6.50299 13.5491 7.18731 14.2089 7.51283L15.0938 5.71924ZM16.0119 6.2197C16.0174 6.21655 16.0149 6.22132 15.9937 6.21972C15.9694 6.21789 15.9319 6.20762 15.8927 6.18131L14.7793 7.84277C15.3915 8.25303 16.2594 8.38623 17.0119 7.95175L16.0119 6.2197ZM18.9851 11.5385C18.9821 11.4913 18.992 11.4537 19.0025 11.4318C19.0118 11.4126 19.0172 11.4128 19.0118 11.4159L18.0118 9.68388C17.2604 10.1177 16.9415 10.9342 16.9894 11.6686L18.9851 11.5385ZM15.8927 17.8187C15.9319 17.7924 15.9694 17.7821 15.9937 17.7803C16.0149 17.7787 16.0174 17.7834 16.0119 17.7803L17.0119 16.0482C16.2594 15.6138 15.3915 15.747 14.7793 16.1572L15.8927 17.8187ZM19.0118 12.5841C19.0172 12.5872 19.0118 12.5874 19.0025 12.5682C18.992 12.5462 18.9821 12.5087 18.9851 12.4615L16.9894 12.3314C16.9415 13.0658 17.2604 13.8823 18.0118 14.3161L19.0118 12.5841ZM8.90647 18.2808C8.94923 18.3019 8.97711 18.3295 8.99094 18.3497C9.00306 18.3675 9.00015 18.3721 9.00015 18.3658H11.0001C11.0001 17.497 10.4512 16.8127 9.79137 16.4872L8.90647 18.2808ZM7.98838 17.7803C7.98292 17.7834 7.98539 17.7787 8.00661 17.7803C8.03085 17.7821 8.06836 17.7924 8.10763 17.8187L9.22098 16.1572C8.60875 15.747 7.74092 15.6138 6.98838 16.0482L7.98838 17.7803ZM15.0001 18.3658C15.0001 18.3721 14.9972 18.3675 15.0094 18.3497C15.0232 18.3295 15.0511 18.3019 15.0938 18.2808L14.2089 16.4872C13.5491 16.8127 13.0001 17.497 13.0001 18.3658H15.0001ZM5.01516 12.4615C5.01823 12.5086 5.00833 12.5462 4.99777 12.5682C4.98851 12.5874 4.9831 12.5872 4.98852 12.5841L5.98852 14.3161C6.73991 13.8823 7.05882 13.0658 7.01092 12.3314L5.01516 12.4615ZM4.98852 11.4159C4.9831 11.4128 4.98851 11.4126 4.99777 11.4318C5.00833 11.4537 5.01823 11.4913 5.01516 11.5385L7.01092 11.6686C7.05882 10.9342 6.73991 10.1177 5.98852 9.68388L4.98852 11.4159ZM8.10764 6.18131C8.06837 6.20763 8.03085 6.21789 8.00662 6.21972C7.9854 6.22133 7.98293 6.21655 7.98839 6.2197L6.98839 7.95176C7.74092 8.38623 8.60876 8.25303 9.22099 7.84277L8.10764 6.18131ZM9.00015 5.63424C9.00015 5.62788 9.00306 5.63248 8.99094 5.65025C8.97711 5.67053 8.94923 5.69815 8.90647 5.71924L9.79137 7.51283C10.4512 7.18731 11.0001 6.50299 11.0001 5.63424H9.00015Z",fill:"#ffffffff"}),v.jsx("circle",{cx:"12",cy:"12",r:"2",stroke:"#ffffffff","stroke-width":"1.8","stroke-linecap":"round","stroke-linejoin":"round"})]}),pw=[{id:"profile",title:"Profile",icon:dw,source:"profile"},{id:"themes",title:"Themes",icon:hw,source:"profile"},{id:"settings",title:"Settings",icon:fw,source:"profile"}];function mw(){var s;const[t,e]=k.useState(!1),[r,n]=k.useState((s=$o[0])==null?void 0:s.id),i=k.useMemo(()=>$o.find(o=>o.id===r),[r]);return v.jsxs("div",{className:"app-layout",children:[v.jsx(uw,{workspaces:$o,profileMenuItems:pw,isCollapsed:t,activeWorkspaceId:r,onSelectWorkspace:n,onToggleCollapse:()=>e(o=>!o)}),v.jsx(cw,{activeWorkspace:i})]})}function gw(){const t=nn(),{signIn:e}=_t(),[r,n]=k.useState(""),[i,s]=k.useState(""),[o,a]=k.useState(null),[l,u]=k.useState(!1),c=async h=>{h.preventDefault(),a(null),u(!0);try{await e(r,i),t("/app")}catch(d){a(d instanceof Error?d.message:"Unable to sign in.")}finally{u(!1)}};return v.jsxs("div",{className:"page",children:[v.jsxs("header",{className:"page__header",children:[v.jsx("h1",{children:"Log in"}),v.jsx("p",{className:"muted",children:"Access your dashboard to keep building."})]}),v.jsxs("div",{className:"card",children:[v.jsxs("form",{className:"form",onSubmit:c,children:[v.jsxs("label",{className:"form__field",children:[v.jsx("span",{children:"Email"}),v.jsx("input",{type:"email",value:r,onChange:h=>n(h.target.value),required:!0})]}),v.jsxs("label",{className:"form__field",children:[v.jsx("span",{children:"Password"}),v.jsx("input",{type:"password",value:i,onChange:h=>s(h.target.value),required:!0})]}),o&&v.jsx("p",{className:"error",children:o}),v.jsx("button",{className:"button",type:"submit",disabled:l,children:l?"Signing in":"Sign in"})]}),v.jsxs("p",{className:"muted",children:["Need an account? ",v.jsx(Ks,{to:"/register",children:"Register here"}),"."]})]})]})}function vw(){const t=nn(),{signUp:e}=_t(),[r,n]=k.useState(""),[i,s]=k.useState(""),[o,a]=k.useState(null),[l,u]=k.useState(!1),c=async h=>{h.preventDefault(),a(null),u(!0);try{await e(r,i),t("/app")}catch(d){a(d instanceof Error?d.message:"Unable to register.")}finally{u(!1)}};return v.jsxs("div",{className:"page",children:[v.jsxs("header",{className:"page__header",children:[v.jsx("h1",{children:"Create an account"}),v.jsx("p",{className:"muted",children:"Set up access to the app and future features."})]}),v.jsxs("div",{className:"card",children:[v.jsxs("form",{className:"form",onSubmit:c,children:[v.jsxs("label",{className:"form__field",children:[v.jsx("span",{children:"Email"}),v.jsx("input",{type:"email",value:r,onChange:h=>n(h.target.value),required:!0})]}),v.jsxs("label",{className:"form__field",children:[v.jsx("span",{children:"Password"}),v.jsx("input",{type:"password",value:i,onChange:h=>s(h.target.value),required:!0})]}),o&&v.jsx("p",{className:"error",children:o}),v.jsx("button",{className:"button",type:"submit",disabled:l,children:l?"Creating account":"Create account"})]}),v.jsxs("p",{className:"muted",children:["Already registered? ",v.jsx(Ks,{to:"/login",children:"Log in here"}),"."]})]})]})}const yw=[{id:"system",name:"System",description:"Automatically follows your OS preference."},{id:"light",name:"Light",description:"Bright backgrounds and strong contrast."},{id:"dark",name:"Dark",description:"Low-glare palette for late sessions."}];function Wc(){const{user:t}=_t(),[e,r]=k.useState("system"),[n,i]=k.useState(null);k.useEffect(()=>{if(!(t!=null&&t.id))return;(async()=>{const{data:l}=await F.from("profiles").select("theme_preference").eq("id",t.id).single();l!=null&&l.theme_preference&&(r(l.theme_preference),s(l.theme_preference))})()},[t]);const s=a=>{document.documentElement.dataset.theme=a},o=async a=>{if(r(a),s(a),!(t!=null&&t.id))return;const{error:l}=await F.from("profiles").upsert({id:t.id,theme_preference:a});i(l?l.message:"Theme saved")};return v.jsxs("div",{className:"settings-panel__content",children:[v.jsx("h2",{children:"Themes"}),v.jsx("p",{children:"Choose how the interface looks. Changes apply instantly and are stored with your profile."}),v.jsxs("div",{className:"settings-card",children:[v.jsx("div",{className:"settings-card__header",children:v.jsxs("div",{children:[v.jsx("h3",{children:"Theme"}),v.jsx("p",{children:"System respects your OS, while Light and Dark force a preference."})]})}),v.jsx("div",{className:"theme-grid",children:yw.map(a=>v.jsxs("button",{type:"button",className:`theme-card ${e===a.id?"theme-card--active":""}`,onClick:()=>o(a.id),children:[v.jsx("div",{className:"theme-card__preview","data-theme":a.id}),v.jsxs("div",{className:"theme-card__body",children:[v.jsx("div",{className:"theme-card__title",children:a.name}),v.jsx("p",{className:"theme-card__description",children:a.description})]})]},a.id))}),n?v.jsx("p",{className:"settings-field__help",children:n}):null]})]})}const Kc=[{sections:[{id:"profile",label:"Profile"},{id:"account",label:"Account"}]},{heading:"Access",sections:[{id:"friends",label:"Friends"},{id:"notifications",label:"Notifications"}]},{heading:"Appearance",sections:[{id:"appearance",label:"Themes"}]}];function ww(){return v.jsx("div",{className:"settings-layout",children:v.jsxs("div",{className:"settings-layout__shell",children:[v.jsx("header",{className:"settings-layout__header",children:v.jsx("div",{children:v.jsx("p",{className:"settings-layout__eyebrow",children:"Settings Center"})})}),v.jsxs("div",{className:"settings-layout__body",children:[v.jsx("nav",{className:"settings-nav","aria-label":"Settings sections",children:Kc.map((t,e)=>v.jsxs("div",{className:"settings-nav__group",children:[t.heading?v.jsx("p",{className:"settings-nav__group-title",children:t.heading}):null,v.jsx("div",{className:"settings-nav__list",children:t.sections.map(r=>v.jsx(Ef,{to:r.id,replace:!0,className:({isActive:n})=>`settings-nav__item ${n?"settings-nav__item--active":""}`,children:v.jsx("span",{className:"settings-nav__label",children:r.label})},r.id))}),e<Kc.length-1?v.jsx("div",{className:"settings-nav__divider","aria-hidden":!0}):null]},t.heading??`group-${e}`))}),v.jsx("section",{className:"settings-panel","aria-live":"polite",children:v.jsx(tv,{})})]})]})})}function qc(){return v.jsxs("div",{className:"settings-panel__content",children:[v.jsx("h2",{children:"Notifications"}),v.jsx("p",{children:"Control emails and alerts."})]})}function Gc(){const{user:t}=_t(),e=k.useRef(null),[r,n]=k.useState({displayName:"",bio:"",website:"",socialAccounts:["","",""],avatarUrl:""}),[i,s]=k.useState(""),[o,a]=k.useState(null),[l,u]=k.useState(!1),[c,h]=k.useState(!1),[d,m]=k.useState(!0);k.useEffect(()=>{if(!(t!=null&&t.id)){m(!1);return}(async()=>{try{const{data:E}=await F.from("profiles").select("display_name, bio, website, social_accounts, avatar_url").eq("id",t.id).single(),x=((E==null?void 0:E.social_accounts)||"").split(`
`).map(C=>C.trim()).filter(Boolean);n(C=>({...C,displayName:(E==null?void 0:E.display_name)??"",bio:(E==null?void 0:E.bio)??"",website:(E==null?void 0:E.website)??"",socialAccounts:[x[0]??"",x[1]??"",x[2]??""],avatarUrl:(E==null?void 0:E.avatar_url)??""}))}finally{m(!1)}})()},[t]),k.useEffect(()=>{let S=!0;return(async()=>{if(!r.avatarUrl){s("");return}const{data:x,error:C}=await F.storage.from("avatars").createSignedUrl(r.avatarUrl,60*60*24*7);if(S&&(x!=null&&x.signedUrl)&&!C){s(x.signedUrl);return}const{data:j}=F.storage.from("avatars").getPublicUrl(r.avatarUrl);S&&s(j.publicUrl??"")})(),()=>{S=!1}},[r.avatarUrl]);const y=r.displayName||(t==null?void 0:t.email)||"Profile",w=y.split(/\s+/).filter(Boolean).slice(0,2).map(S=>{var E;return(E=S[0])==null?void 0:E.toUpperCase()}).join(""),_=S=>E=>{n({...r,[S]:E.target.value})},g=S=>E=>{n(x=>{const C=[...x.socialAccounts];return C[S]=E.target.value,{...x,socialAccounts:C}})},f=async S=>{var x,C;const E=(x=S.target.files)==null?void 0:x[0];if(!(!E||!(t!=null&&t.id))){h(!0),a(null);try{const j=((C=E.name.split(".").pop())==null?void 0:C.toLowerCase())||"jpg",A=`${t.id}-${Date.now()}.${j}`,N=`${t.id}/${A}`,{error:le}=await F.storage.from("avatars").upload(N,E,{cacheControl:"0",upsert:!0,contentType:E.type||"image/jpeg"});if(le)throw le;const{error:St}=await F.from("profiles").update({avatar_url:N}).eq("id",t.id);if(St)throw St;n(Kt=>({...Kt,avatarUrl:N})),a("Profile picture updated")}catch(j){a(j instanceof Error?j.message:"Unable to update profile picture")}finally{h(!1),S.target&&(S.target.value="")}}},p=async()=>{if(t!=null&&t.id){u(!0),a(null);try{const S={id:t.id,display_name:r.displayName,bio:r.bio,website:r.website,social_accounts:r.socialAccounts.map(x=>x.trim()).filter(Boolean).join(`
`),avatar_url:r.avatarUrl??null},{error:E}=await F.from("profiles").upsert(S);if(E)throw E;a("Profile updated")}catch(S){a(S instanceof Error?S.message:"Unable to update profile")}finally{u(!1)}}};return v.jsxs("div",{className:"settings-panel__content",children:[v.jsx("h2",{children:"Profile"}),v.jsxs("div",{className:"settings-profile__header",children:[v.jsxs("div",{className:`settings-profile__avatar ${d?"settings-profile__avatar--loading":""}`,onClick:()=>{var S;return(S=e.current)==null?void 0:S.click()},"aria-busy":c,children:[d?v.jsx("div",{className:"settings-profile__avatar-skeleton"}):i?v.jsx("img",{src:i,alt:"Profile avatar"}):v.jsx("span",{children:w}),!d&&v.jsx("div",{className:"settings-profile__avatar-overlay",children:c?"Uploading":"Change profile picture"})]}),v.jsx("input",{ref:e,type:"file",accept:"image/*",style:{display:"none"},onChange:f}),v.jsx("div",{className:"settings-profile__identity",children:d?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"settings-profile__name-skeleton"}),v.jsx("div",{className:"settings-profile__bio-skeleton"})]}):v.jsxs(v.Fragment,{children:[v.jsx("h3",{children:y}),v.jsx("p",{children:r.bio||"Because even heroes need a profile."})]})})]}),v.jsxs("div",{className:"settings-card",children:[v.jsx("div",{className:"settings-card__header",children:v.jsxs("div",{children:[v.jsx("h3",{children:"Public details"}),v.jsx("p",{children:"Your profile card carries these details wherever it wanders."})]})}),v.jsxs("div",{className:"settings-form",children:[v.jsxs("label",{className:"settings-field",children:[v.jsx("span",{className:"settings-field__label",children:"Display name"}),v.jsx("input",{type:"text",value:r.displayName,onChange:_("displayName")}),v.jsx("p",{className:"settings-field__help",children:"If you leave this blank, your email graciously takes the stage."})]}),v.jsxs("label",{className:"settings-field",children:[v.jsx("span",{className:"settings-field__label",children:"Short bio"}),v.jsx("textarea",{rows:3,value:r.bio,onChange:_("bio")}),v.jsx("p",{className:"settings-field__help",children:"Share a tiny tale about yourself for those who peek at your profile."})]})]})]}),v.jsxs("div",{className:"settings-card",children:[v.jsx("div",{className:"settings-card__header",children:v.jsxs("div",{children:[v.jsx("h3",{children:"Links"}),v.jsx("p",{children:"Share the destinations you want teammates to find."})]})}),v.jsxs("div",{className:"settings-form",children:[v.jsxs("label",{className:"settings-field",children:[v.jsx("span",{className:"settings-field__label",children:"Website"}),v.jsx("input",{type:"url",value:r.website,onChange:_("website"),placeholder:"https://"}),v.jsx("p",{className:"settings-field__help",children:"Portfolio, company site, or docs."})]}),v.jsx("hr",{className:"settings-divider"}),v.jsxs("div",{className:"settings-social",children:[v.jsx("div",{className:"settings-social__title",children:"Social accounts"}),v.jsx("div",{className:"settings-social__list",children:r.socialAccounts.map((S,E)=>v.jsxs("label",{className:"settings-field settings-field--inline",children:[v.jsx("span",{className:"settings-social__icon","aria-hidden":"true",children:v.jsx("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M10.6666 13.3333L10.0808 12.7475C9.29978 11.9664 9.29978 10.7001 10.0808 9.91905L14.5857 5.41416C15.3668 4.63311 16.6331 4.63311 17.4142 5.41415L18.5857 6.58572C19.3668 7.36677 19.3668 8.6331 18.5857 9.41415L16.9999 10.9999M13.3333 10.6666L13.919 11.2524C14.7001 12.0335 14.7001 13.2998 13.919 14.0808L9.41415 18.5857C8.6331 19.3668 7.36677 19.3668 6.58572 18.5857L5.41416 17.4142C4.63311 16.6331 4.63311 15.3668 5.41416 14.5857L6.99994 12.9999",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),v.jsx("input",{type:"text",value:S,onChange:g(E),placeholder:"Profile URL or handle"})]},E))}),v.jsx("p",{className:"settings-field__help",children:"Share up to three profiles for teammates to follow."})]})]})]}),v.jsxs("div",{className:"settings-profile__footer",children:[v.jsx("button",{className:"button button--primary",onClick:p,disabled:l,children:l?"Updating":"Update Profile"}),o?v.jsx("span",{className:"settings-profile__status",children:o}):null]})]})}function _w(){const{user:t}=_t(),e=nn(),[r,n]=k.useState(null),[i,s]=k.useState(!1),[o,a]=k.useState({email:"",password:"",confirmText:""}),[l,u]=k.useState(!1),c=async()=>{if(!(t!=null&&t.email))return;const{error:d}=await F.auth.resetPasswordForEmail(t.email);n(d?d.message:"Reset email sent. Check your inbox.")},h=async()=>{if(!(!(t!=null&&t.id)||!t.email)&&!(o.email!==t.email||o.confirmText!=="DELETE"||!o.password)){u(!0);try{const{error:d}=await F.auth.signInWithPassword({email:t.email,password:o.password});if(d)throw d;const m=["projects","assets","canvases"];for(const y of m)await F.from(y).delete().eq("user_id",t.id);await F.storage.from("avatars").remove([`avatars/${t.id}.jpg`]),await F.from("profiles").delete().eq("id",t.id),await F.auth.admin.deleteUser(t.id),await F.auth.signOut(),e("/login",{replace:!0})}catch(d){n(d instanceof Error?d.message:"Unable to delete account")}finally{u(!1)}}};return v.jsxs("div",{className:"settings-panel__content",children:[v.jsx("h2",{children:"Account"}),v.jsx("p",{children:"Manage your credentials, recovery, and the nuclear option to delete everything."}),v.jsxs("div",{className:"settings-card",children:[v.jsx("div",{className:"settings-card__header",children:v.jsxs("div",{children:[v.jsx("h3",{children:"Login details"}),v.jsx("p",{children:"Your email is how you sign in and receive account updates."})]})}),v.jsxs("div",{className:"settings-form",children:[v.jsxs("label",{className:"settings-field",children:[v.jsx("span",{className:"settings-field__label",children:"Email address"}),v.jsx("input",{type:"email",value:(t==null?void 0:t.email)??"",readOnly:!0}),v.jsx("p",{className:"settings-field__help",children:"This comes from Supabase auth and cannot be edited here."})]}),v.jsx("button",{className:"button button--primary",type:"button",onClick:c,children:"Reset password"}),r?v.jsx("p",{className:"settings-field__help",children:r}):null]})]}),v.jsxs("div",{className:"settings-card settings-card--danger",children:[v.jsx("div",{className:"settings-card__header",children:v.jsxs("div",{children:[v.jsx("h3",{children:"Delete account"}),v.jsx("p",{children:"This permanently removes your account, data, and files."})]})}),v.jsx("button",{className:"button button--danger",type:"button",onClick:()=>s(!0),children:"Delete Account"})]}),i?v.jsx("div",{className:"modal-backdrop",children:v.jsxs("div",{className:"modal",children:[v.jsxs("header",{className:"modal__header",children:[v.jsx("h3",{children:"Confirm deletion"}),v.jsx("button",{className:"modal__close",onClick:()=>s(!1),"aria-label":"Close",children:""})]}),v.jsxs("div",{className:"modal__body",children:[v.jsx("p",{children:"Type your email and password to confirm. Paste is disabled to prevent mistakes."}),v.jsxs("label",{className:"settings-field",children:[v.jsx("span",{className:"settings-field__label",children:"Email"}),v.jsx("input",{type:"email",value:o.email,onChange:d=>a({...o,email:d.target.value}),onPaste:d=>d.preventDefault()})]}),v.jsxs("label",{className:"settings-field",children:[v.jsx("span",{className:"settings-field__label",children:"Password"}),v.jsx("input",{type:"password",value:o.password,onChange:d=>a({...o,password:d.target.value}),onPaste:d=>d.preventDefault()})]}),v.jsxs("label",{className:"settings-field",children:[v.jsx("span",{className:"settings-field__label",children:"Confirmation text"}),v.jsx("input",{type:"text",value:o.confirmText,placeholder:"Type DELETE",onChange:d=>a({...o,confirmText:d.target.value}),onPaste:d=>d.preventDefault()})]}),v.jsx("p",{className:"modal__warning",children:"This action will delete projects, assets, canvases, and your Supabase account. It cannot be undone."})]}),v.jsxs("footer",{className:"modal__footer",children:[v.jsx("button",{className:"button",onClick:()=>s(!1),disabled:l,children:"Cancel"}),v.jsx("button",{className:"button button--danger",onClick:h,disabled:l||!o.email||!o.password||o.email!==(t==null?void 0:t.email)||o.confirmText!=="DELETE",children:l?"Deleting":"Delete everything"})]})]})}):null]})}function Jc({children:t}){const{user:e,loading:r}=_t();return r?v.jsx("div",{className:"page",children:v.jsx("p",{className:"muted",children:"Checking authentication"})}):e?t:v.jsx(ks,{to:"/login",replace:!0})}function Zc({children:t}){const{user:e,loading:r}=_t();return r?v.jsx("div",{className:"page",children:v.jsx("p",{className:"muted",children:"Checking authentication"})}):e?v.jsx(ks,{to:"/app",replace:!0}):t}function Sw(){return v.jsxs(nv,{children:[v.jsx(ke,{path:"/app",element:v.jsx(Jc,{children:v.jsx(mw,{})})}),v.jsxs(ke,{path:"/settings",element:v.jsx(Jc,{children:v.jsx(ww,{})}),children:[v.jsx(ke,{index:!0,element:v.jsx(Gc,{})}),v.jsx(ke,{path:"profile",element:v.jsx(Gc,{})}),v.jsx(ke,{path:"account",element:v.jsx(_w,{})}),v.jsx(ke,{path:"friends",element:v.jsx(qc,{})}),v.jsx(ke,{path:"notifications",element:v.jsx(qc,{})}),v.jsx(ke,{path:"appearance",element:v.jsx(Wc,{})}),v.jsx(ke,{path:"themes",element:v.jsx(Wc,{})}),v.jsx(ke,{path:"*",element:v.jsx(ks,{to:"profile",replace:!0})})]}),v.jsx(ke,{path:"/login",element:v.jsx(Zc,{children:v.jsx(gw,{})})}),v.jsx(ke,{path:"/register",element:v.jsx(Zc,{children:v.jsx(vw,{})})}),v.jsx(ke,{path:"*",element:v.jsx(ks,{to:"/app",replace:!0})})]})}Uo.createRoot(document.getElementById("root")).render(v.jsx(Jp.StrictMode,{children:v.jsx(jv,{children:v.jsx(aw,{children:v.jsx(Sw,{})})})}));
