/* ============================
   Shape Tool Config (Final + Safe)
   ============================ */

.shape-tool-config {
  display:flex;
  flex-direction:column;
  gap:0;
  padding:16px 12px;
  background:var(--sidebar-bg);
  border-right:1px solid var(--sidebar-border);
  height:100vh;
  width:220px;
  overflow-y:auto;
  overflow-x:hidden;
}

/* Titles */
.shape-tool-config__section {display:flex;flex-direction:column;gap:12px;}
.shape-tool-config__section-title {
  font-size:.75rem;
  font-weight:600;
  text-transform:uppercase;
  letter-spacing:.5px;
  color:var(--sidebar-text);
  padding:0 4px;
}

.shape-tool-config__divider {
  height:1px;
  background:var(--sidebar-border);
  margin:16px 0;
}

/* ============================
   Shape Selection Buttons
   ============================ */

.shape-tool-config__shape-grid {
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:8px;
}

.shape-tool-config__shape-button {
  display:flex;flex-direction:column;align-items:center;gap:6px;
  padding:10px;
  background:var(--card-muted);
  border:1px solid var(--sidebar-border);
  border-radius:6px;
  cursor:pointer;
  transition:.2s;
}

.shape-tool-config__shape-button:hover {
  background:var(--sidebar-hover);
  box-shadow:inset 0 0 0 1px var(--border);
}

.shape-tool-config__shape-button--active {
  background:var(--sidebar-hover);
  border-color:var(--primary);
  box-shadow:inset 0 0 0 1px var(--primary);
  color:var(--primary);
}

.shape-tool-config__shape-label {
  font-size:.75rem;
  font-weight:500;
  color:var(--sidebar-text);
}

/* ============================
   Properties + Sliders
   ============================ */

.shape-tool-config__property{display:flex;flex-direction:column;gap:8px;}

.shape-tool-config__property-label{
  display:flex;justify-content:space-between;align-items:center;
  font-size:.80rem;font-weight:500;color:var(--sidebar-text);padding:0 4px;
}

.shape-tool-config__property-value{
  font-size:.75rem;font-weight:600;color:var(--primary);
  background:color-mix(in srgb,var(--primary)12%,transparent);
  padding:2px 8px;border-radius:4px;
}

.shape-tool-config__checkbox{width:20px;height:20px;accent-color:var(--primary);cursor:pointer;}

.shape-tool-config__slider-container{position:relative;height:6px;background:var(--border);border-radius:3px;overflow:hidden;}
.shape-tool-config__slider{position:absolute;width:100%;height:100%;opacity:0;cursor:pointer;z-index:2;}
.shape-tool-config__slider-fill{position:absolute;top:0;left:0;height:100%;background:var(--primary);transition:width .12s;}

.shape-tool-config__slider::-webkit-slider-thumb,
.shape-tool-config__slider::-moz-range-thumb{
  width:14px;height:14px;border-radius:50%;
  background:var(--sidebar-bg);border:2px solid var(--primary);cursor:pointer;
}

/* ============================
   Color Mode Toggle
   ============================ */

.shape-tool-config__color-type-toggle{display:flex;gap:6px;margin-bottom:8px;}

.shape-tool-config__color-type-button{
  flex:1;padding:8px;background:var(--card-muted);
  border:1px solid var(--sidebar-border);
  border-radius:6px;font-size:.80rem;
  color:var(--sidebar-text);
  cursor:pointer;transition:.2s;
}

.shape-tool-config__color-type-button:hover{background:var(--sidebar-hover);}
.shape-tool-config__color-type-button--active{
  background:var(--sidebar-hover);
  border-color:var(--primary);
  box-shadow:inset 0 0 0 1px var(--primary);
  color:var(--primary);
}

/* ============================
   COLOR WHEEL — PRESERVED 100%
   ============================ */

.shape-tool-config__color-wheel-container {
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:14px;
  padding:10px 6px 6px;
  background:color-mix(in srgb,var(--bg-secondary)75%,transparent);
  border:1px solid var(--border);
  border-radius:12px;
  box-shadow:0 10px 26px color-mix(in srgb,var(--text)10%,transparent);
}

.shape-tool-config__wheel{position:relative;display:flex;align-items:center;justify-content:center;isolation:isolate;filter:drop-shadow(0 12px 20px color-mix(in srgb,var(--primary)12%,transparent));touch-action:none;}
.shape-tool-config__wheel-track{position:absolute;inset:0;border-radius:50%;pointer-events:none;background:conic-gradient(from 0deg,#f00,#ff0,#0f0,#0ff,#00f,#f0f,#f00);mask:radial-gradient(circle,transparent calc(50% - var(--wheel-thickness)),black calc(50% - var(--wheel-thickness)));-webkit-mask:radial-gradient(circle,transparent calc(50% - var(--wheel-thickness)),black calc(50% - var(--wheel-thickness)));}
.shape-tool-config__wheel-ring{position:absolute;inset:calc(var(--wheel-thickness) - 3px);border-radius:50%;background:radial-gradient(circle,color-mix(in srgb,var(--bg)90%,transparent)0%,transparent60%);box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--border)80%,transparent), inset 0 0 24px color-mix(in srgb,var(--bg)60%,transparent);}
.shape-tool-config__wheel-hole{position:absolute;border-radius:50%;background:var(--bg);box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--border)70%,transparent),0 0 0 2px color-mix(in srgb,var(--bg-secondary)90%,transparent);z-index:0;}
.shape-tool-config__hue-thumb{position:absolute;top:50%;left:50%;width:18px;height:18px;border-radius:50%;border:2px solid #fff;box-shadow:0 0 0 1px rgba(0,0,0,.35),0 6px 12px rgba(0,0,0,.35);cursor:pointer;transform-origin:center;z-index:20;}

/* ============================
   HEX Input — FIXED
   ============================ */

.shape-tool-config__color-meta{display:flex;align-items:center;gap:10px;width:100%;}

.shape-tool-config__color-preview{
  width:44px;height:44px;
  border-radius:10px;border:1px solid var(--border);
}

.shape-tool-config__color-input-wrap{flex:1;display:flex;flex-direction:column;gap:6px;}
.shape-tool-config__swatch-label{font-size:.72rem;color:var(--text-muted);}

.shape-tool-config__color-input{
  width:100%;
  padding:6px 10px;
  background:var(--bg);
  border:1px solid color-mix(in srgb,var(--border)60%,transparent);
  border-radius:6px;
  font-size:.80rem;
  text-align:center;
  color:var(--sidebar-text);
  font-family:monospace;
  opacity:.87;
  transition:.15s;
}

.shape-tool-config__color-input:hover{opacity:1;border-color:var(--primary-hover);}
.shape-tool-config__color-input:focus{
  opacity:1;
  border-color:var(--primary);
  outline:none;
  box-shadow:0 0 0 2px color-mix(in srgb,var(--primary)25%,transparent);
}

/* Scrollbar */
.shape-tool-config::-webkit-scrollbar{width:6px;}
.shape-tool-config::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px;}
.shape-tool-config::-webkit-scrollbar-thumb:hover{background:var(--border-strong);}
