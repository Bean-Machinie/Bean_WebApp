/* ============================
   Pen Tool Config (Final + Safe)
   ============================ */

.pen-tool-config {
  display: flex;
  flex-direction: column;
  gap: 0;
  padding: 16px 12px;
  background: var(--sidebar-bg);
  border-right: 1px solid var(--sidebar-border);
  height: 100vh;
  width: 220px;
  box-sizing: border-box;
  overflow-y: auto;
  overflow-x: hidden;
}

/* Section Titles */
.pen-tool-config__section {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.pen-tool-config__section-title {
  margin: 0;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--sidebar-text);
  padding: 0 4px;
}

.pen-tool-config__divider {
  height: 1px;
  background: var(--sidebar-border);
  margin: 16px 0;
}

/* ============================
   Brush Types
   ============================ */

.pen-tool-config__brush-types {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.pen-tool-config__brush-type {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  background: var(--card-muted);
  border: 1px solid var(--sidebar-border);
  border-radius: 6px;
  cursor: pointer;
  transition: background .2s, box-shadow .2s;
}

.pen-tool-config__brush-type:hover {
  background: var(--sidebar-hover);
  box-shadow: inset 0 0 0 1px var(--border);
}

.pen-tool-config__brush-type--active {
  background: var(--sidebar-hover);
  border-color: var(--primary);
  box-shadow: inset 0 0 0 1px var(--primary);
}

.pen-tool-config__brush-preview {
  width: 28px;
  height: 28px;
  background: var(--bg-tertiary);
  border-radius: 6px;
  display: flex;
  align-items:center;
  justify-content:center;
}

.pen-tool-config__brush-circle {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: var(--text);
}

.pen-tool-config__brush-label {
  font-size: .85rem;
  font-weight: 500;
  color: var(--sidebar-text);
}

/* ============================
   Sliders
   ============================ */

.pen-tool-config__property {
  display:flex;
  flex-direction:column;
  gap:8px;
}

.pen-tool-config__property-label {
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:.80rem;
  font-weight:500;
  padding:0 4px;
  color:var(--sidebar-text);
}

.pen-tool-config__property-value {
  font-size:.75rem;
  font-weight:600;
  color:var(--primary);
  background:color-mix(in srgb,var(--primary)12%,transparent);
  padding:2px 8px;
  border-radius:4px;
}

.pen-tool-config__slider-container {
  position:relative;
  height:6px;
  background:var(--border);
  border-radius:3px;
  overflow:hidden;
}

.pen-tool-config__slider {
  width:100%;
  height:100%;
  opacity:0;
  cursor:pointer;
  position:absolute;
  z-index:2;
}

.pen-tool-config__slider-fill {
  position:absolute;
  top:0;
  left:0;
  height:100%;
  background:var(--primary);
  transition:width .12s ease;
}

.pen-tool-config__slider::-webkit-slider-thumb,
.pen-tool-config__slider::-moz-range-thumb {
  width:14px;
  height:14px;
  border-radius:50%;
  background:var(--sidebar-bg);
  border:2px solid var(--primary);
  cursor:pointer;
}

/* ============================
   COLOR WHEEL â€” PRESERVED
   ============================ */

.pen-tool-config__color-wheel-container {
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:14px;
  padding:10px 6px 6px;
  background:color-mix(in srgb,var(--bg-secondary)75%,transparent);
  border:1px solid var(--border);
  border-radius:12px;
  box-shadow:0 10px 26px color-mix(in srgb,var(--text)10%,transparent);
}

.pen-tool-config__wheel {
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  isolation:isolate;
  filter:drop-shadow(0 12px 20px color-mix(in srgb,var(--primary)12%,transparent));
  touch-action:none;
}

.pen-tool-config__wheel-track{
  position:absolute;
  inset:0;
  border-radius:50%;
  pointer-events:none;
  background:conic-gradient(from 0deg,#f00,#ff0,#0f0,#0ff,#00f,#f0f,#f00);
  mask:radial-gradient(circle,transparent calc(50% - var(--wheel-thickness)),black calc(50% - var(--wheel-thickness)));
  -webkit-mask:radial-gradient(circle,transparent calc(50% - var(--wheel-thickness)),black calc(50% - var(--wheel-thickness)));
}

.pen-tool-config__wheel-ring{
  position:absolute;
  inset:calc(var(--wheel-thickness) - 3px);
  border-radius:50%;
  background:radial-gradient(circle,color-mix(in srgb,var(--bg)90%,transparent)0%,transparent60%);
  box-shadow: inset 0 0 0 1px color-mix(in srgb,var(--border)80%,transparent), inset 0 0 24px color-mix(in srgb,var(--bg)60%,transparent);
  pointer-events:none;
}

.pen-tool-config__wheel-hole{
  position:absolute;
  border-radius:50%;
  background:var(--bg);
  box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--border)70%,transparent),0 0 0 2px color-mix(in srgb,var(--bg-secondary)90%,transparent);
  pointer-events:none;
  z-index:0;
}

.pen-tool-config__hue-thumb{
  position:absolute;
  top:50%;left:50%;
  width:18px;height:18px;
  border-radius:50%;
  border:2px solid #fff;
  box-shadow:0 0 0 1px rgba(0,0,0,.35),0 6px 12px rgba(0,0,0,.35);
  cursor:pointer;
  transform-origin:center;
  z-index:20;
}

/* ============================
   Color Meta + HEX Input (Fixed)
   ============================ */

.pen-tool-config__color-meta {
  display:flex;
  align-items:center;
  gap:10px;
  width:100%;
}

.pen-tool-config__color-preview {
  width:44px;height:44px;
  border-radius:10px;
  border:1px solid var(--border);
}

.pen-tool-config__color-input-wrap {
  flex:1;
  display:flex;
  flex-direction:column;
  gap:6px;
}

.pen-tool-config__swatch-label {
  font-size:.72rem;
  color:var(--text-muted);
}

.pen-tool-config__color-input {
  width:100%;
  padding:6px 10px;
  background:var(--bg);
  border:1px solid color-mix(in srgb,var(--border)60%,transparent);
  border-radius:6px;
  font-size:.80rem;
  color:var(--sidebar-text);
  text-align:center;
  font-family:monospace;
  opacity:.87;
  transition:.15s;
}

.pen-tool-config__color-input:hover {opacity:1;border-color:var(--primary-hover);}
.pen-tool-config__color-input:focus {
  outline:none;
  opacity:1;
  border-color:var(--primary);
  box-shadow:0 0 0 2px color-mix(in srgb,var(--primary)25%,transparent);
}

/* Scrollbar */
.pen-tool-config::-webkit-scrollbar {width:6px;}
.pen-tool-config::-webkit-scrollbar-thumb {background:var(--border);border-radius:4px;}
.pen-tool-config::-webkit-scrollbar-thumb:hover {background:var(--border-strong);}
